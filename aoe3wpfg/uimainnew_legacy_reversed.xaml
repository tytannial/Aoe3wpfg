<Window x:Class="aoe3wpfg.uimainnew_legacy_reversed" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:local="clr-namespace:aoe3wpfg"  mc:Ignorable="d" Title="uimainnew" KeyboardNavigation.DirectionalNavigation="Contained" Style="{StaticResource WindowStyle}"
        local:Age3Accessibility.Mode="Game">
    <Window.Resources>
        <ControlTemplate x:Key="Ingame_SubPanelBG">
            <Grid Background="Transparent">
                <Rectangle Fill="Black" Opacity="0"></Rectangle>
                <Rectangle Stroke="Black" StrokeThickness="6"></Rectangle>
                <Rectangle Stroke="{StaticResource ButtonStrokeGradient}" StrokeThickness="2" Margin="2"></Rectangle>
            </Grid>
        </ControlTemplate>
        <ControlTemplate x:Key="QueueBG">
            <Grid>
                <Rectangle Fill="{StaticResource wood_tile}" RadiusX="10" RadiusY="10"></Rectangle>
                <Rectangle Fill="{StaticResource TitlebarGradientOverlay}" Opacity="0.25" RadiusX="10" RadiusY="10"></Rectangle>
                <Rectangle Fill="Transparent" RadiusX="10" RadiusY="10" StrokeThickness="4" Stroke="Black" Margin="-1"></Rectangle>
                <Rectangle Fill="Transparent" RadiusX="10" RadiusY="10" StrokeThickness="2" Stroke="{StaticResource ButtonStrokeGradient}"></Rectangle>
            </Grid>
        </ControlTemplate>

        <Style TargetType="{x:Type Button}" x:Key="CardButton">
            <Setter Property="ClickMode" Value="Press" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid Name="background">
                            <!-- Image -->
                            <Grid x:Name="ButtonBody" RenderTransformOrigin="0.5,0.5">
                                <Grid.RenderTransform>
                                    <ScaleTransform/>
                                </Grid.RenderTransform>
                                <Rectangle Fill="Black" RadiusX="3" RadiusY="3"></Rectangle>
                                <Rectangle Fill="{TemplateBinding Background}" RadiusX="5" RadiusY="5" Margin="1.5"></Rectangle>
                                <Rectangle x:Name="glow" RadiusX="3" RadiusY="3" Margin="1.5" Opacity="0">
                                    <Rectangle.Fill>
                                        <ImageBrush ImageSource="/resources/images/hud/imagebutton_glow.png" />
                                    </Rectangle.Fill>
                                </Rectangle>
                                <Rectangle x:Name="glow2" Fill="White" RadiusX="3" RadiusY="3" Margin="1.5" Opacity="0"/>
                                <local:Age3ResourceTimer x:Name="timer" Style ="{StaticResource TimerStyle}" Height="{TemplateBinding ActualHeight}" Width="{TemplateBinding ActualWidth}" DisplayState="{Binding TimerState}"/>
                                <Rectangle x:Name="Disabled" Fill="Black" Opacity="0" RadiusX="3" RadiusY="3"/>
                            </Grid>

                            <!-- Infinity Icon -->
                            <Grid x:Name="InfinityIcon" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="12,8,0,0">
                                <Rectangle Fill="Black" Margin="-5,0,-5,0" RadiusX="5" RadiusY="5" Opacity="0.5"/>
                                <TextBlock FontFamily="Arial" Foreground="White" FontWeight="Bold" FontSize="25" VerticalAlignment="Center" HorizontalAlignment="Center" Text="∞"/>
                            </Grid>

                            <!-- Japanese Two Times Icon -->
                            <Grid x:Name="TwoTimesIcon" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="12,8,0,0">
                                <Rectangle Fill="Black" Margin="-5,0,-5,0" RadiusX="5" RadiusY="5" Opacity="0.6"/>
                                <TextBlock FontFamily="Trajan Pro" Foreground="White" FontWeight="Bold" FontSize="12" Margin="-5,0,-5,0" VerticalAlignment="Center" HorizontalAlignment="Center" Text="2x" Visibility="Visible"/>
                            </Grid>

                            <!--For mercenaries & food-->
                            <Grid x:Name="GoldCostIcon" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,0,5,3" Visibility="Hidden">
                                <Rectangle HorizontalAlignment="Center" VerticalAlignment="Center" Fill="Black" Height="26" Width="28" Opacity="0.5" RadiusX="5" RadiusY="5"/>
                                <Image HorizontalAlignment="Center" VerticalAlignment="Center" Height="30" Width="30" Source="resources/images/hud/resource_gold.png"/>
                            </Grid>
                            <Grid x:Name="FoodCostIcon" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,0,5,4" Visibility="Hidden">
                                <Rectangle HorizontalAlignment="Center" VerticalAlignment="Center" Fill="Black" Height="25" Width="25" Opacity="0.5" RadiusX="5" RadiusY="5"/>
                                <Image HorizontalAlignment="Center" VerticalAlignment="Center" Height="25" Width="25" Source="resources/images/hud/resource_food.png"/>
                            </Grid>

                            <!--Amount given through shipment-->
                            <Grid x:Name="EnableText" VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="10,0,0,7">
                                <Rectangle Fill="Black" Margin="-10,0,-10,0" RadiusX="5" RadiusY="5" Opacity="0.5"/>
                                <TextBlock x:Name="ShipmentCount" FontFamily="Arial" Foreground="White" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center" Text=" "/>
                            </Grid>
                        </Grid>

                        <ControlTemplate.Triggers>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsPressed" Value="True"/>
                                    <Condition Property="IsEnabled" Value="True" />
                                </MultiTrigger.Conditions>
                                <MultiTrigger.EnterActions>
                                    <StopStoryboard BeginStoryboardName="MouseOverStoryBoard" />
                                    <StopStoryboard BeginStoryboardName="MouseOverStoryBoard2" />
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0.75" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="glow2" Storyboard.TargetProperty="Opacity" To="0.15" Duration="0:0:.05" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                    <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                                </MultiTrigger.EnterActions>
                                <MultiTrigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1.05" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1.05" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0.5" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="glow2" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:.05" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </MultiTrigger.ExitActions>
                            </MultiTrigger>

                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsMouseOver" Value="True"/>
                                    <Condition Property="IsEnabled" Value="True" />
                                </MultiTrigger.Conditions>
                                <MultiTrigger.EnterActions>
                                    <BeginStoryboard Name="MouseOverStoryBoard">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1.05" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1.05" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0.5" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </MultiTrigger.EnterActions>
                                <MultiTrigger.ExitActions>
                                    <BeginStoryboard Name="MouseOverStoryBoard2">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </MultiTrigger.ExitActions>
                            </MultiTrigger>

                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsFocused" Value="True"/>
                                    <Condition Property="IsEnabled" Value="True" />
                                </MultiTrigger.Conditions>
                                <MultiTrigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1.05" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1.05" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0.5" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </MultiTrigger.EnterActions>
                                <MultiTrigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </MultiTrigger.ExitActions>
                            </MultiTrigger>

                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Disabled" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>

                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type ListBoxItem}" x:Key="scoreboardplayers">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontFamily" Value="Arial"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Height" Value="35"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="VerticalContentAlignment" Value="Stretch"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Focusable" Value="False"/>

            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Grid Background="#7F000000">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="10" />
                                <ColumnDefinition Width="35" />
                                <ColumnDefinition Width="320" />
                                <ColumnDefinition Width="80" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <Rectangle Grid.Column="0" Fill="{Binding TeamColour}"/>

                            <Grid Grid.Column="1">
                                <Rectangle Fill="{Binding PlayerColour}"/>
                                <Border BorderBrush="Black" BorderThickness="2"/>
                                <Rectangle HorizontalAlignment="Center" VerticalAlignment="Center" Width="25" Height="25" Fill="{Binding AgeIcon}"/>
                            </Grid>

                            <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <TextBlock x:Name="playerName" TextAlignment="Left" VerticalAlignment="Center" Margin="5,0,10,0" Text="{Binding PlayerName}">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsOut}" Value="True">
                                                    <Setter Property="TextDecorations" Value="Strikethrough"/>
                                                    <Setter Property="TextBlock.Opacity" Value="0.5"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>

                                <Rectangle Width="25" Height="25" Fill="{Binding Connection}" Margin="0,0,0,2"/>
                            </StackPanel>

                            <TextBlock Grid.Column="2" TextAlignment="Right" VerticalAlignment="Center" Text="{Binding ExtraInfo}" ToolTip="{Binding ExtraInfoTooltip}" Margin="0,0,5,0"/>

                            <Grid Grid.Column="3">
                                <Rectangle Fill="Black"/>
                                <TextBlock TextAlignment="Center" VerticalAlignment="Center" HorizontalAlignment="Center" Width="75" Text="{Binding Score}" Margin="0,0,10,0"/>
                            </Grid>
                        </Grid>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type ListBoxItem}" x:Key="pauseCounter">
            <Setter Property="FontSize" Value="20" />
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontFamily" Value="Trajan Pro"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Focusable" Value="False"/>

            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Grid>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <TextBlock TextAlignment="Center" HorizontalAlignment="Center" FontSize="20" Style="{StaticResource RegularTextBlockStyle}" Text="{Binding PlayerName}"/>
                                <TextBlock TextAlignment="Center" HorizontalAlignment="Center" FontSize="20" Style="{StaticResource RegularTextBlockStyle}" Text=":"/>
                                <TextBlock TextAlignment="Center" HorizontalAlignment="Center" FontSize="20" Margin="10,0,0,0" Style="{StaticResource RegularTextBlockStyle}" Text="{Binding PauseCounter}"/>
                            </StackPanel>
                        </Grid>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type Button}" x:Key="chatSend">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid Name="background">
                            <Grid.Background>
                                <SolidColorBrush Color="#FF271708"/>
                            </Grid.Background>

                            <Image Height="30" Width="80" Source="/resources/images/hud/icon_compass_chat.png"></Image>

                            <Border BorderBrush="{StaticResource ButtonStrokeGradient}" BorderThickness="2"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="background" Property="Grid.Background" Value="#FF764518"/>
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter TargetName="background" Property="Grid.Background" Value="#FF593411"/>
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                                </Trigger.EnterActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type TextBox}" x:Key="chatTextbox">
            <Setter Property="Height" Value="40" />
            <Setter Property="FontFamily" Value="arial" />
            <Setter Property="FontSize" Value="18" />
            <Setter Property="Foreground" Value="#d5d5d5" />
            <Setter Property="HorizontalContentAlignment" Value="Left" />
            <Setter Property="VerticalContentAlignment" Value="Center" />

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TextBoxBase}">
                        <Border x:Name="Border" Background="#FF271708" BorderBrush="{StaticResource ButtonStrokeGradient}" BorderThickness="2">
                            <ScrollViewer Margin="0" x:Name="PART_ContentHost" VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Hidden" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="#FFDADADA" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" Color="Black" Direction="-90" ShadowDepth="1.5" RenderingBias="Quality" />
                </Setter.Value>
            </Setter>
        </Style>

        <ControlTemplate x:Key="chatComboBoxToggleButton" TargetType="ToggleButton">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="20" />
                </Grid.ColumnDefinitions>
                <Border x:Name="Border" Grid.ColumnSpan="2" Background="{StaticResource ComboBoxInnerGradient}" BorderBrush="{StaticResource ButtonStrokeGradient}" BorderThickness="2" />
                <Border Grid.Column="0" Margin="1" Background="Transparent" BorderBrush="Transparent" />
                <Path x:Name="Arrow" Grid.Column="1" Fill="#b49d64" HorizontalAlignment="Center" VerticalAlignment="Center" Data="M 0 0 L 4 4 L 8 0 Z" Visibility="Hidden" />
                <Image Grid.Column="1" Height="25" Width="25" Margin="-20,0,0,0" Source="{StaticResource combo_arrow}" />
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="ToggleButton.IsMouseOver" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                    </Trigger.EnterActions>
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource ComboBoxInnerGradientOver}" />
                </Trigger>
                <Trigger Property="IsFocused" Value="true">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource ComboBoxInnerGradientOver}" />
                </Trigger>
                <Trigger Property="ToggleButton.IsChecked" Value="true">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource ComboBoxInnerGradientOver}" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter TargetName="Border" Property="Background" Value="{StaticResource hud_chat_combobox}" />
                    <Setter Property="Foreground" Value="{StaticResource DisabledForegroundBrush}" />
                    <Setter TargetName="Arrow" Property="Fill" Value="{StaticResource DisabledForegroundBrush}" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

        <Style TargetType="ComboBox" x:Key="chatDropdown">
            <Setter Property="SnapsToDevicePixels" Value="true" />
            <Setter Property="OverridesDefaultStyle" Value="true" />
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto" />
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
            <Setter Property="ScrollViewer.CanContentScroll" Value="true" />
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="FontSize" Value="18" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" Color="Black" Direction="-90" ShadowDepth="1.5" RenderingBias="Quality" />
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <ToggleButton x:Name="ToggleButton" Template="{StaticResource chatComboBoxToggleButton}" Grid.Column="2" Focusable="false" IsChecked="{Binding Path=IsDropDownOpen,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}" ClickMode="Press" />
                            <ContentPresenter x:Name="ContentSite" IsHitTestVisible="False" Content="{TemplateBinding SelectionBoxItem}" ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}" Margin="10,5,23,3" VerticalAlignment="Center" HorizontalAlignment="Left" />
                            <TextBox x:Name="PART_EditableTextBox" Template="{StaticResource ComboBoxTextBox}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="3,3,23,3" Focusable="True" Background="Transparent" Visibility="Hidden" IsReadOnly="{TemplateBinding IsReadOnly}" />
                            <Popup x:Name="Popup" Placement="Bottom" IsOpen="{TemplateBinding IsDropDownOpen}" AllowsTransparency="True" PopupAnimation="Slide">
                                <Grid x:Name="DropDown" SnapsToDevicePixels="True" MinWidth="{TemplateBinding ActualWidth}" MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                    <Border x:Name="DropDownBorder" Background="#1c150c" BorderThickness="2" BorderBrush="#4f4731" />
                                    <ScrollViewer Margin="4,6,4,6" SnapsToDevicePixels="True">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                                    </ScrollViewer>
                                </Grid>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="HasItems" Value="false">
                                <Setter TargetName="DropDownBorder" Property="MinHeight" Value="95" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="{StaticResource DisabledForegroundBrush}" />
                            </Trigger>
                            <Trigger Property="IsGrouping" Value="true">
                                <Setter Property="ScrollViewer.CanContentScroll" Value="false" />
                            </Trigger>
                            <Trigger SourceName="Popup" Property="Popup.AllowsTransparency" Value="true">
                                <Setter TargetName="DropDownBorder" Property="CornerRadius" Value="4" />
                                <Setter TargetName="DropDownBorder" Property="Margin" Value="0,2,0,0" />
                            </Trigger>
                            <Trigger Property="IsEditable" Value="true">
                                <Setter Property="IsTabStop" Value="false" />
                                <Setter TargetName="PART_EditableTextBox" Property="Visibility" Value="Visible" />
                                <Setter TargetName="ContentSite" Property="Visibility" Value="Hidden" />
                            </Trigger>
                            <Trigger Property="IsFocused" Value="true">
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                                <Setter TargetName="ToggleButton" Property="Template" Value="{StaticResource ComboBoxToggleButtonOver}" />
                            </Trigger>
                            <EventTrigger RoutedEvent="PreviewMouseDown">
                                <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                            </EventTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="statsToggleButton" TargetType="ToggleButton">
            <Setter Property="Height" Value="30"/>
            <Setter Property="Width" Value="30"/>
            <Setter Property="Focusable" Value="False" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid Name="background">
                            <Grid.Background>
                                <SolidColorBrush Color="#281f17"/>
                            </Grid.Background>

                            <Image Height="80" Width="40" Source="{Binding Path=Content, RelativeSource={RelativeSource TemplatedParent}}" ></Image>

                            <Border BorderBrush="{StaticResource StatsToggleBorderGradient}" CornerRadius="3" BorderThickness="2"/>

                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="background" Property="Grid.Background" Value="#FF764518"/>
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter TargetName="background" Property="Grid.Background" Value="#FF593411"/>
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="ToggleButton.IsChecked" Value="true">
                                <Setter TargetName="background" Property="Grid.Background" Value="#4f3f2f" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="true">
                    <Setter Property="Foreground" Value="White" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="bioToggleButton" TargetType="ToggleButton">
            <Setter Property="Height" Value="22"/>
            <Setter Property="Width" Value="22"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid Name="background">
                            <Grid.Background>
                                <SolidColorBrush Color="#36270f"/>
                            </Grid.Background>

                            <TextBlock Text="+" Style="{StaticResource CampaignTitleTextBlockStyle}" Margin="0" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center"/>

                            <Border BorderBrush="{StaticResource ButtonStrokeGradient}" CornerRadius="3" BorderThickness="2"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="background" Property="Grid.Background" Value="#FF764518"/>
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter TargetName="background" Property="Grid.Background" Value="#FF593411"/>
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                                </Trigger.EnterActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="true">
                    <Setter Property="Foreground" Value="White" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="selectedUnitsButton" TargetType="ToggleButton">
            <Setter Property="Height" Value="22"/>
            <Setter Property="Width" Value="22"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid Name="background">
                            <Grid.Background>
                                <SolidColorBrush Color="#36270f"/>
                            </Grid.Background>

                            <TextBlock x:Name="ButtonArrowText" Text=">" Style="{StaticResource CampaignTitleTextBlockStyle}" Margin="0" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center"/>

                            <Border BorderBrush="{StaticResource ButtonStrokeGradient}" CornerRadius="3" BorderThickness="2"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="background" Property="Grid.Background" Value="#FF764518"/>
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter TargetName="background" Property="Grid.Background" Value="#FF593411"/>
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="true">
                                <!-- &lt; is for less than symbol-->
                                <Setter TargetName="ButtonArrowText" Property="TextBlock.Text" Value="&lt;"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="false">
                                <!-- &gt; is for greater than symbol-->
                                <Setter TargetName="ButtonArrowText" Property="TextBlock.Text" Value="&gt;"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="true">
                    <Setter Property="Foreground" Value="White" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="{x:Type local:Age3Button}" x:Key="objectivesToggleButton">
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="Background" Value="#36270f" />
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="KeyboardNavigation.AcceptsReturn" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="local:Age3Button">
                        <Border Name="border" BorderThickness="2" CornerRadius="4" Background="{TemplateBinding Background}">
                            <Border.BorderBrush>
                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                    <LinearGradientBrush.GradientStops>
                                        <GradientStopCollection>
                                            <GradientStop Color="#4f4731" Offset="0.0" />
                                            <GradientStop Color="#b79f66" Offset="0.5" />
                                            <GradientStop Color="#4f4731" Offset="1.0" />
                                        </GradientStopCollection>
                                    </LinearGradientBrush.GradientStops>
                                </LinearGradientBrush>
                            </Border.BorderBrush>
                            <Grid>
                                <Image Source="resources/images/hud/icon_objectives.png" Width="60" Height="30" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,-2,0,0"/>
                                <local:Age3ResourceTimer x:Name="timer" Style ="{StaticResource TimerStyle}" Height="30" Width="70" HorizontalAlignment="Center"  DisplayState="{Binding TimerState}"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                                <Setter Property="Background" TargetName="border">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#5d451e" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                                <Setter Property="Background" TargetName="border">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#5d451e" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" TargetName="border">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#855c1b" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>

                            <EventTrigger RoutedEvent="PreviewMouseDown">
                                <SoundPlayerAction Source="resources/audio/bigbutton.wav" />
                            </EventTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type local:Age3Button}" x:Key="diplomacyToggleButton">
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="Background" Value="#36270f" />
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="KeyboardNavigation.AcceptsReturn" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="local:Age3Button">
                        <Border Name="border" BorderThickness="2" CornerRadius="4" Background="{TemplateBinding Background}">
                            <Border.BorderBrush>
                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                    <LinearGradientBrush.GradientStops>
                                        <GradientStopCollection>
                                            <GradientStop Color="#4f4731" Offset="0.0" />
                                            <GradientStop Color="#b79f66" Offset="0.5" />
                                            <GradientStop Color="#4f4731" Offset="1.0" />
                                        </GradientStopCollection>
                                    </LinearGradientBrush.GradientStops>
                                </LinearGradientBrush>
                            </Border.BorderBrush>
                            <Grid>
                                <Image Source="resources/images/hud/icon_diplomacy.png" Width="60" Height="30" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,-2,0,0"/>
                                <local:Age3ResourceTimer x:Name="timer" Style ="{StaticResource TimerStyle}" Height="30" Width="70" HorizontalAlignment="Center"  DisplayState="{Binding TimerState}"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                                <Setter Property="Background" TargetName="border">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#5d451e" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                                <Setter Property="Background" TargetName="border">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#5d451e" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" TargetName="border">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#855c1b" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>

                            <EventTrigger RoutedEvent="PreviewMouseDown">
                                <SoundPlayerAction Source="resources/audio/bigbutton.wav" />
                            </EventTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>


        <Style TargetType="{x:Type Button}" x:Key="settlerCounterButton">
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="Background" Value="#36270f" />
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="Focusable" Value="False" />
            <Setter Property="KeyboardNavigation.AcceptsReturn" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">


                        <Grid>
                            <Rectangle Height="30" Width="40" RadiusX="5" RadiusY="5" Fill="Black" />
                            <Rectangle x:Name="ButtonBackground" Height="28" Width="38" RadiusX="5" RadiusY="5" Fill="#36270f" Stroke="{StaticResource ButtonStrokeGradient}" StrokeThickness="2" />
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            <local:Age3ResourceTimer x:Name="timer" Style ="{StaticResource TimerStyle}" DisplayState="{Binding TimerState}"/>
                        </Grid>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                                <Setter Property="Fill" TargetName="ButtonBackground">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#5d451e" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                                <Setter Property="Fill" TargetName="ButtonBackground">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#5d451e" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                                </Trigger.EnterActions>
                                <Trigger.ExitActions/>
                                <Setter Property="Fill" TargetName="ButtonBackground">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#855c1b" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type Button}" x:Key="HomeCityLegacyHUDButton">
            <Setter Property="Height" Value="80" />
            <Setter Property="Width" Value="128" />
            <Setter Property="RenderTransformOrigin" Value="0.5, 0.5" />
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1" />
                </Setter.Value>
            </Setter>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Grid>
                            <Grid x:Name="ButtonBody" Height="80" Width="128" RenderTransformOrigin="0.5,0.5">
                                <Grid.RenderTransform>
                                    <ScaleTransform />
                                </Grid.RenderTransform>

                                <Image Height="80" Width="128" Source="/resources/images/hud/hud_hcflag_legacy_bg.png"></Image>

                                <Grid Height="80" Width="128">
                                    <Grid.OpacityMask>
                                        <ImageBrush ImageSource="/resources/images/hud/hud_hcflag_legacy_mask.png" />
                                    </Grid.OpacityMask>

                                    <!-- Flag Image -->
                                    <Rectangle Height="80" Width="128" RadiusX="5" RadiusY="5" Fill="{Binding FlagImage}" />

                                    <Grid Height="80" Width="128" HorizontalAlignment="Center" VerticalAlignment="Center" Background="Transparent">
                                        <Grid.OpacityMask>
                                            <ImageBrush ImageSource="/resources/images/hud/hud_hcflag_legacy_mask.png" />
                                        </Grid.OpacityMask>
                                        <local:Age3ResourceTimer x:Name="timer" Style ="{StaticResource TimerStyle}" Height="80" Width="128" DisplayState="{Binding TimerState}"/>
                                    </Grid>

                                    <Rectangle Height="80" Width="128" x:Name="glow" Opacity="0">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="/resources/images/hud/hud_hcflag_legacy_glow.png" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                    <Rectangle Height="80" Width="128" x:Name="flash_glow" Visibility="Hidden">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="/resources/images/hud/hud_hcflag_legacy_glow.png" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                </Grid>
                            </Grid>

                            <Grid HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,8,8,0">
                                <TextBlock Margin="-4,0,0,0" Text="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="30pt" Foreground="Black" />
                                <TextBlock Margin=" 4,0,0,0" Text="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="30pt" Foreground="Black" />
                                <TextBlock Margin="0, 4,0,0" Text="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="30pt" Foreground="Black" />
                                <TextBlock Margin="0,-4,0,0" Text="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="30pt" Foreground="Black" />

                                <TextBlock Margin="-2.9,-2.9,0,0" Text="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="30pt" Foreground="Black" />
                                <TextBlock Margin="-2.9, 2.9,0,0" Text="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="30pt" Foreground="Black" />
                                <TextBlock Margin=" 2.9,-2.9,0,0" Text="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="30pt" Foreground="Black" />
                                <TextBlock Margin=" 2.9, 2.9,0,0" Text="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="30pt" Foreground="Black" />

                                <TextBlock Text="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="30pt" Foreground="{StaticResource OverlayTitleGradient}">
                                    <TextBlock.Effect>
                                        <DropShadowEffect BlurRadius="6" Color="Black" Direction="-90" ShadowDepth="4" RenderingBias="Quality" />
                                    </TextBlock.Effect>
                                </TextBlock>
                            </Grid>
                        </Grid>

                        <ControlTemplate.Triggers>

                            <Trigger Property="IsPressed" Value="True">
                                <Trigger.EnterActions>
                                    <StopStoryboard BeginStoryboardName="MouseOverStoryBoard" />
                                    <StopStoryboard BeginStoryboardName="MouseOverStoryBoard2" />
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:.05" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                    <SoundPlayerAction Source="resources/audio/bigbutton.wav" />
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1.025" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1.025" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0.75" Duration="0:0:.05" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>


                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard Name="MouseOverStoryBoard">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1.025" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1.025" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0.75" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard Name="MouseOverStoryBoard2">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="TabControl_TabRight" TargetType="{x:Type TabControl}">
            <Setter Property="OverridesDefaultStyle" Value="True" />
            <Setter Property="SnapsToDevicePixels" Value="True" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabControl}">
                        <Grid KeyboardNavigation.TabNavigation="Local">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Border x:Name="Border" Grid.Column="0" Background="Transparent" BorderBrush="Transparent" BorderThickness="0" KeyboardNavigation.TabNavigation="Local" KeyboardNavigation.DirectionalNavigation="Contained" KeyboardNavigation.TabIndex="2">
                                <ContentPresenter Name="PART_SelectedContentHost" Margin="4" ContentSource="SelectedContent" />
                            </Border>
                            <TabPanel x:Name="HeaderPanel" Grid.Column="1" Panel.ZIndex="1" Margin="0,0,0,0" VerticalAlignment="Center" IsItemsHost="True" KeyboardNavigation.TabIndex="1" Background="Transparent" />
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="{StaticResource DisabledForegroundBrush}" />
                                <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource DisabledBorderBrush}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="ListBox" x:Key="objectivesListBox">
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Disabled"/>
            <Setter Property="ScrollViewer.CanContentScroll" Value="False"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="MinHeight" Value="40"/>
            <Setter Property="Focusable" Value="False"/>
        </Style>
        <Style TargetType="ListBoxItem" x:Key="objectiveHUDTextStyle">
            <Setter Property="Width" Value="425" />
            <Setter Property="HorizontalAlignment" Value="Left" />
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="15" />
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Margin" Value="1" />
            <Setter Property="IsHitTestVisible" Value="False"/>
            <Setter Property="Focusable" Value="False"/>

            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="25" />
                                <ColumnDefinition Width="400" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <Rectangle Grid.Column="0" x:Name="checkbox" HorizontalAlignment="Center" VerticalAlignment="Center" Width="25" Height="25" Fill="{StaticResource objective_checkbox_empty}"/>

                            <TextBlock Grid.Column="1" x:Name="objectiveText" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,0,0,0" Text="{Binding ObjectiveText}" TextWrapping="Wrap"/>
                        </Grid>
                        <DataTemplate.Triggers>
                            <DataTrigger Binding="{Binding IsComplete}" Value="True">
                                <Setter TargetName="checkbox" Property="Fill" Value="{StaticResource objective_checkbox_ticked}"/>
                                <Setter TargetName="objectiveText" Property="TextDecorations" Value="Strikethrough"/>
                                <Setter TargetName="objectiveText" Property="Foreground" Value="#48c318"/>
                            </DataTrigger>
                        </DataTemplate.Triggers>
                    </DataTemplate>
                </Setter.Value>
            </Setter>

            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="2" Color="Black" Direction="-90" ShadowDepth="1" RenderingBias="Quality" />
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type Button}" x:Key="HUDBannerButton">
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="Focusable" Value="False" />
            <Setter Property="ClickMode" Value="Press" />

            <Setter Property="RenderTransformOrigin" Value="0.5, 0.5" />
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1" />
                </Setter.Value>
            </Setter>

            <Setter Property="Background" Value="#36270f" />

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid Height="90" Width="70">
                            <Rectangle Height="80" Width="70" RadiusX="7" RadiusY="7" Fill="Black" />
                            <Rectangle x:Name="ButtonBackground" Height="77" Width="68" RadiusX="4" RadiusY="4" Fill="{TemplateBinding Background}" Stroke="{StaticResource ButtonStrokeGradient}" StrokeThickness="2" />
                            <Grid>
                                <Image x:Name="banner_icon" Height="50" Width="50" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,19,0,15" Source="{Binding Icon}"></Image>
                                <TextBlock x:Name="UnitSelection_Text" HorizontalAlignment="Right" VerticalAlignment="Bottom" FontSize="16" FontWeight="Bold" Foreground="White" Margin="0,0,12,10" Text="{TemplateBinding Content}" />
                            </Grid>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsPressed" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="0.95" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="0.95" Duration="0:0:.05" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                    <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.05" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                                <Setter Property="Fill" TargetName="ButtonBackground">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#9d712a" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>

                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ThicknessAnimationUsingKeyFrames Storyboard.TargetProperty="Margin" BeginTime="00:00:00">
                                                <SplineThicknessKeyFrame KeyTime="00:00:00" Value="5,-15,0,0" />
                                                <SplineThicknessKeyFrame KeyTime="0:0:.05" Value="5,-28,0,0" />
                                            </ThicknessAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                    <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ThicknessAnimationUsingKeyFrames Storyboard.TargetProperty="Margin" BeginTime="00:00:00">
                                                <SplineThicknessKeyFrame KeyTime="00:00:00" Value="5,-28,0,0" />
                                                <SplineThicknessKeyFrame KeyTime="0:0:.05" Value="5,-15,0,0" />
                                            </ThicknessAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                                <Setter Property="Fill" TargetName="ButtonBackground">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#5d451e" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type Button}" x:Key="PortraitButton">
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="Height" Value="35" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Margin" Value="0,0,0,0" />

            <Setter Property="RenderTransformOrigin" Value="0.5, 0.5" />
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1" />
                </Setter.Value>
            </Setter>

            <Setter Property="Background" Value="#36270f" />

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid Name="background">

                            <Grid x:Name="ButtonBody" RenderTransformOrigin="0.5,0.5">
                                <Grid.RenderTransform>
                                    <ScaleTransform />
                                </Grid.RenderTransform>
                                <Rectangle Fill="Black" RadiusX="7" RadiusY="7"></Rectangle>
                                <Rectangle Fill="{TemplateBinding Background}" RadiusX="5" RadiusY="5" Margin="2.5"></Rectangle>

                                <Rectangle x:Name="glow" RadiusX="5" RadiusY="5" Margin="2.5" Opacity="0">
                                    <Rectangle.Fill>
                                        <ImageBrush ImageSource="/resources/images/hud/imagebutton_glow.png" />
                                    </Rectangle.Fill>
                                </Rectangle>
                                <Rectangle x:Name="glow2" Fill="#ecd44f" RadiusX="5" RadiusY="5" Margin="2.5" Opacity="0" />

                                <local:Age3ResourceTimer x:Name="timer" Style ="{StaticResource TimerStyle}" Height="50" Width="50" DisplayState="{Binding TimerState}"/>
                            </Grid>

                            <TextBlock x:Name="UnitSelection_Text" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="22" FontWeight="Bold" Foreground="White" Margin="8,8,0,0" Text="{TemplateBinding Content}">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Effect">
                                            <Setter.Value>
                                                <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="3" RenderingBias="Quality" />
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </Grid>

                        <ControlTemplate.Triggers>

                            <Trigger Property="IsPressed" Value="True">
                                <Trigger.EnterActions>
                                    <StopStoryboard BeginStoryboardName="MouseOverStoryBoard" />
                                    <StopStoryboard BeginStoryboardName="MouseOverStoryBoard2" />
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0.5" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="glow2" Storyboard.TargetProperty="Opacity" To="0.1" Duration="0:0:.05" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1.025" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="ButtonBody" Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1.025" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0.25" Duration="0:0:.05" />
                                            <DoubleAnimation Storyboard.TargetName="glow2" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:.05" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>


                            <Trigger Property="IsMouseOver" Value="True">

                                <Trigger.EnterActions>
                                    <BeginStoryboard Name="MouseOverStoryBoard">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1.025" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1.025" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0.25" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard Name="MouseOverStoryBoard2">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetName="glow" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>

                            </Trigger>

                            <EventTrigger RoutedEvent="PreviewMouseDown">
                                <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                            </EventTrigger>
                        </ControlTemplate.Triggers>

                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <ImageBrush x:Key="icontest" ImageSource="/resources/images/icons/abilities/ability_anchor_fist.png" Stretch="Uniform" />
        <Style TargetType="{x:Type Button}" x:Key="UnitSelectionButton">
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="Height" Value="35"/>
            <Setter Property="Focusable" Value="False" />
            <Setter Property="Margin" Value="10,0,0,0" />
            <Setter Property="ClickMode" Value="Press" />

            <Setter Property="RenderTransformOrigin" Value="0.5, 0.5" />
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1" />
                </Setter.Value>
            </Setter>

            <Setter Property="Background" Value="#36270f" />

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid Name="background">
                            <Grid x:Name="ButtonBody" RenderTransformOrigin="0.5,0.5">
                                <Grid.RenderTransform>
                                    <ScaleTransform />
                                </Grid.RenderTransform>
                                <Rectangle Fill="Black" RadiusX="3.5" RadiusY="3.5"></Rectangle>
                                <Rectangle Fill="{TemplateBinding Background}" RadiusX="2.5" RadiusY="2.5" Margin="0.75"></Rectangle>

                                <Rectangle x:Name="glow" RadiusX="1.5" RadiusY="2.5" Margin="2.5" Opacity="0">
                                    <Rectangle.Fill>
                                        <ImageBrush ImageSource="/resources/images/hud/imagebutton_glow.png" />
                                    </Rectangle.Fill>
                                </Rectangle>
                                <Rectangle x:Name="glow2" Fill="White" RadiusX="2.5" RadiusY="2.5" Margin="1" Opacity="0" />

                                <local:Age3ResourceTimer x:Name="timer" Style ="{StaticResource TimerStyle}" Height="50" Width="50" DisplayState="{Binding TimerState}"/>
                            </Grid>

                            <Border HorizontalAlignment="Right" VerticalAlignment="Top" CornerRadius="2" BorderThickness="1" Margin="0,1,1,0" BorderBrush="{StaticResource MainMenuButtonStrokeGradient}" Visibility="{Binding Visibility, ElementName=UnitSelection_Text}">
                                <Border.Background>
                                    <SolidColorBrush Color="Black" Opacity="0.9"/>
                                </Border.Background>
                                <TextBlock x:Name="UnitSelection_Text" FontSize="18" FontWeight="Bold" Foreground="White" Margin="2,0,2,0" Text="{TemplateBinding Content}">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <Trigger Property="Text" Value="">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </Trigger>
                                            </Style.Triggers>
                                            <Setter Property="Effect">
                                                <Setter.Value>
                                                    <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="3" RenderingBias="Quality" />
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </Border>

                            <Grid VerticalAlignment="Bottom">
                                <Rectangle Fill="Black" Height="5" Width="45" VerticalAlignment="Center" Margin="0,0,0,0" RadiusX="1" RadiusY="1"/>
                                <ProgressBar x:Name="HealthBar" Height="3" Width="43" VerticalAlignment="Center" Margin="0,0,0,0" Value="100">
                                    <ProgressBar.Style>
                                        <Style TargetType="ProgressBar">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type ProgressBar}">
                                                        <Grid MinHeight="3" MinWidth="43">
                                                            <Border x:Name="PART_Track" CornerRadius="1" Background="#23201b" BorderBrush="{StaticResource ProgressBarStrokeGradient}" BorderThickness="0" />
                                                            <Border x:Name="PART_Indicator" CornerRadius="1" Background="{StaticResource ProgressBarGradient}" BorderBrush="#23201b" BorderThickness="0" HorizontalAlignment="Left" Margin="0" />
                                                        </Grid>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                            <Setter Property="Effect">
                                                <Setter.Value>
                                                    <DropShadowEffect BlurRadius="10" Color="Black" Direction="-90" ShadowDepth="1.7" RenderingBias="Quality" />
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </ProgressBar.Style>
                                </ProgressBar>
                            </Grid>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <TextBlock Foreground="White" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="12" Margin="8,8,0,0" Text="{Binding Number}">
                            <TextBlock.Effect>
                                <DropShadowEffect BlurRadius="3" Color="Black" Direction="-45" ShadowDepth="2" RenderingBias="Quality" />
                            </TextBlock.Effect>
                        </TextBlock>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type Button}" x:Key="SubMenuButtonNoShadow">
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="Height" Value="35" />
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>

                    </DataTemplate>
                </Setter.Value>
            </Setter>

            <Setter Property="Background" Value="#36270f" />

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Name="border" BorderThickness="2" CornerRadius="4" Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            <Border.BorderBrush>
                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                    <LinearGradientBrush.GradientStops>
                                        <GradientStopCollection>
                                            <GradientStop Color="#4f4731" Offset="0.0" />
                                            <GradientStop Color="#b79f66" Offset="0.5" />
                                            <GradientStop Color="#4f4731" Offset="1.0" />
                                        </GradientStopCollection>
                                    </LinearGradientBrush.GradientStops>
                                </LinearGradientBrush>

                            </Border.BorderBrush>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" TargetName="border">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#5d451e" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" TargetName="border">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#855c1b" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <EventTrigger RoutedEvent="PreviewMouseDown">
                                <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                            </EventTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="TabItemVertical" TargetType="{x:Type TabItem}">
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" Color="Black" Direction="-90" ShadowDepth="1.5" RenderingBias="Quality" />
                </Setter.Value>
            </Setter>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabItem}">
                        <Grid>
                            <Border x:Name="Border" Margin="0,5,0,5" Background="#36270f" BorderThickness="2" CornerRadius="4">
                                <ContentPresenter x:Name="ContentSite" VerticalAlignment="Center" HorizontalAlignment="Center" ContentSource="Header" Margin="12,2,12,2" RecognizesAccessKey="True" />
                                <Border.BorderBrush>
                                    <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                        <LinearGradientBrush.GradientStops>
                                            <GradientStopCollection>
                                                <GradientStop Color="#4f4731" Offset="0.0" />
                                                <GradientStop Color="#b79f66" Offset="0.5" />
                                                <GradientStop Color="#4f4731" Offset="1.0" />
                                            </GradientStopCollection>
                                        </LinearGradientBrush.GradientStops>
                                    </LinearGradientBrush>

                                </Border.BorderBrush>
                                <Border.Effect>
                                    <DropShadowEffect BlurRadius="5" Color="Black" Direction="-90" ShadowDepth="0" RenderingBias="Quality" />
                                </Border.Effect>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Panel.ZIndex" Value="100" />
                                <Setter TargetName="Border" Property="Background" Value="#5d451e" />
                                <Setter TargetName="Border" Property="BorderThickness" Value="1,1,1,0" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Background" Value="{StaticResource DisabledBackgroundBrush}" />
                                <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource DisabledBorderBrush}" />
                                <Setter Property="Foreground" Value="{StaticResource DisabledForegroundBrush}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="HealthBar" TargetType="{x:Type ProgressBar}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ProgressBar}">
                        <Grid MinHeight="10" MinWidth="95">
                            <Border x:Name="PART_Track" CornerRadius="3" Background="#23201b" BorderBrush="{StaticResource ProgressBarStrokeGradient}" BorderThickness="0" />
                            <Border x:Name="PART_Indicator" CornerRadius="3" Background="{StaticResource ProgressBarGradient}" BorderBrush="#23201b" BorderThickness="0" HorizontalAlignment="Left" Margin="0" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" Color="Black" Direction="-90" ShadowDepth="1.7" RenderingBias="Quality" />
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="PanelFGProgression" TargetType="{x:Type ProgressBar}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ProgressBar}">
                        <Grid>
                            <Border x:Name="PART_Track" CornerRadius="0" Background="#23201b" BorderBrush="{StaticResource ProgressBarStrokeGradient}" BorderThickness="0" />
                            <Border x:Name="PART_Indicator" CornerRadius="0" Background="{StaticResource ProgressAgeBarGradient}" BorderBrush="#23201b" BorderThickness="0" HorizontalAlignment="Left" Margin="0" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" Color="Black" Direction="-90" ShadowDepth="1.7" RenderingBias="Quality" />
                </Setter.Value>
            </Setter>
        </Style>
        <ImageBrush x:Key="hud_hc_subpanelbg" ImageSource="/resources/images/hud/hc_subpanelbg.png" />
        <ImageBrush x:Key="hud_hc_panelbg" ImageSource="/resources/images/hud/hc_panelbg.png" />
        <BitmapImage x:Key="hud_icon_summary" UriSource="/resources/images/hud/icon_summary.png" />
        <BitmapImage x:Key="hud_icon_objectives" UriSource="/resources/images/hud/icon_objectives.png" />
        <BitmapImage x:Key="uiresourcesicon_bg" UriSource="/resources/images/hud/resources_iconbg.png" />
        <LinearGradientBrush x:Key="TitlebarGradientOverlay" EndPoint="1,0.5" StartPoint="0,0.5">
            <GradientStop Color="#090807" Offset="0" />
            <GradientStop Color="#cfab7f" Offset="0.25" />
            <GradientStop Color="#cfab7f" Offset="0.75" />
            <GradientStop Color="#090807" Offset="1" />
        </LinearGradientBrush>
        <Style x:Key="{x:Type TabControl}" TargetType="{x:Type TabControl}">
            <Setter Property="OverridesDefaultStyle" Value="True" />
            <Setter Property="SnapsToDevicePixels" Value="True" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabControl}">
                        <Grid KeyboardNavigation.TabNavigation="Local">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <TabPanel x:Name="HeaderPanel" Grid.Row="0" Panel.ZIndex="1" Margin="0,0,4,-1" IsItemsHost="True" KeyboardNavigation.TabIndex="1" Background="Transparent" />
                            <Border x:Name="Border" Grid.Row="1" Background="Transparent" BorderBrush="{StaticResource SolidBorderBrush}" BorderThickness="1" CornerRadius="2" KeyboardNavigation.TabNavigation="Local" KeyboardNavigation.DirectionalNavigation="Contained" KeyboardNavigation.TabIndex="2">
                                <ContentPresenter Name="PART_SelectedContentHost" Margin="4" ContentSource="SelectedContent" />
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="{StaticResource DisabledForegroundBrush}" />
                                <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource DisabledBorderBrush}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="{x:Type ProgressBar}" TargetType="{x:Type ProgressBar}">
            <Setter Property="Height" Value="30" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ProgressBar}">
                        <Grid MinHeight="14" MinWidth="200">
                            <Border Height="28" CornerRadius="5" Background="#23201b" BorderBrush="Black" BorderThickness="3" Margin="2,2,0,0" Opacity="0.5" />
                            <Border x:Name="PART_Track" Height="28" CornerRadius="4" Background="#23201b" BorderBrush="{StaticResource ProgressBarStrokeGradient}" BorderThickness="3" Margin="2" />

                            <Decorator x:Name="PART_Indicator" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <Rectangle Grid.Column="0" Height="17" VerticalAlignment="Center" Fill="{StaticResource ProgressBarGradient}" RadiusX="2" RadiusY="2" Margin="7,1,5,0" />
                                    <!--<ContentControl Grid.Column="0" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="5,0,-45,0" Template="{StaticResource ProgressGlow}" />-->
                                </Grid>
                            </Decorator>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <LinearGradientBrush x:Key="ProgressBarStrokeGradient" StartPoint="0,0.5" EndPoint="1,0.5">
            <GradientStop Color="#b59e3c" Offset="0" />
            <GradientStop Color="#f6ebaa" Offset="0.5" />
            <GradientStop Color="#b59e3c" Offset="1" />
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="ProgressBarGradient" StartPoint="0,0.5" EndPoint="1,0.5">
            <GradientStop Color="#7bf7ff" Offset="0" />
            <GradientStop Color="#13c0cb" Offset="1" />
        </LinearGradientBrush>
        <BitmapImage x:Key="hud_trade_routes" UriSource="/resources/images/hud/trade_routes.png" />
        <ImageBrush x:Key="actionboard_mainbg" ImageSource="/resources/images/hud/actionboard_mainbg.png" Stretch="Uniform" />

        <ImageBrush x:Key="uiresourcesbar_bg_fill" ImageSource="/resources/images/hud/resources_bg.png" Stretch="Fill" />
        <ImageBrush x:Key="recorded_fast_over" ImageSource="/resources/images/hud/recorded_fast_over.png" />
        <ImageBrush x:Key="recorded_pause_over" ImageSource="/resources/images/hud/recorded_pause_over.png" />
        <ImageBrush x:Key="recorded_play_over" ImageSource="/resources/images/hud/recorded_play_over.png" />
        <ImageBrush x:Key="recorded_loop_over" ImageSource="/resources/images/hud/recorded_loop_over.png" />
        <ImageBrush x:Key="recorded_fast" ImageSource="/resources/images/hud/recorded_fast.png" />
        <ImageBrush x:Key="recorded_pause" ImageSource="/resources/images/hud/recorded_pause.png" />
        <ImageBrush x:Key="recorded_play" ImageSource="/resources/images/hud/recorded_play.png" />
        <ImageBrush x:Key="recorded_loop" ImageSource="/resources/images/hud/recorded_loop.png" />
        <ImageBrush x:Key="recorded_fog" ImageSource="/resources/images/hud/fow_toggle.png" />
        <ImageBrush x:Key="recorded_fog_over" ImageSource="/resources/images/hud/fow_toggle_over.png" />
        <ImageBrush x:Key="recorded_camera" ImageSource="/resources/lock_icon.png" />
        <ImageBrush x:Key="recorded_camera_over" ImageSource="/resources/lock_icon_hover.png" />
        <ImageBrush x:Key="uiresourcesbar_bg" ImageSource="/resources/images/hud/resources_bg.png" Stretch="Uniform" />

        <Style x:Key="Recorded_Fast_Toggle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid>
                            <Rectangle Stretch="Fill" x:Name="Rectangle1">
                                <Rectangle.Style>
                                    <Style TargetType="{x:Type Shape}">
                                        <Setter Property="Fill" Value="{StaticResource recorded_fast}" />
                                        <Setter Property="Opacity" Value="0.5" />
                                    </Style>
                                </Rectangle.Style>
                            </Rectangle>

                            <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center" Margin="4, 1, 4, 1" />

                        </Grid>
                        <ControlTemplate.Triggers>

                            <Trigger Property="IsEnabled" Value="false">

                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0" />
                            </Trigger>
                            <Trigger Property="IsChecked" Value="true">
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="1" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_fast}" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0.5" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_fast_over}" />
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsChecked" Value="true" />
                                    <Condition Property="IsMouseOver" Value="true" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="1" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_fast_over}" />
                            </MultiTrigger>

                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="true">
                    <Setter Property="Foreground" Value="White" />
                </Trigger>
                <Trigger Property="IsPressed" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                    </Trigger.EnterActions>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                    </Trigger.EnterActions>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Recorded_Pause_Toggle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid>
                            <Rectangle Stretch="Fill" x:Name="Rectangle1">
                                <Rectangle.Style>
                                    <Style TargetType="{x:Type Shape}">
                                        <Setter Property="Fill" Value="{StaticResource recorded_pause}" />
                                    </Style>
                                </Rectangle.Style>
                            </Rectangle>

                            <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center" Margin="4, 1, 4, 1" />

                        </Grid>
                        <ControlTemplate.Triggers>

                            <Trigger Property="IsEnabled" Value="false">

                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0" />
                            </Trigger>
                            <Trigger Property="IsChecked" Value="true">
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_play}" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_pause_over}" />
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsChecked" Value="true" />
                                    <Condition Property="IsMouseOver" Value="true" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_play_over}" />
                            </MultiTrigger>

                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="true">
                    <Setter Property="Foreground" Value="White" />
                </Trigger>
                <Trigger Property="IsPressed" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                    </Trigger.EnterActions>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                    </Trigger.EnterActions>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Recorded_Loop_Toggle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid>
                            <Rectangle Stretch="Fill" x:Name="Rectangle1">
                                <Rectangle.Style>
                                    <Style TargetType="{x:Type Shape}">
                                        <Setter Property="Fill" Value="{StaticResource recorded_loop}" />
                                        <Setter Property="Opacity" Value="0.5" />
                                    </Style>
                                </Rectangle.Style>
                            </Rectangle>

                            <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center" Margin="4, 1, 4, 1" />

                        </Grid>
                        <ControlTemplate.Triggers>

                            <Trigger Property="IsEnabled" Value="false">

                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0" />
                            </Trigger>
                            <Trigger Property="IsChecked" Value="true">
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="1" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_loop}" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0.5" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_loop_over}" />
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsChecked" Value="true" />
                                    <Condition Property="IsMouseOver" Value="true" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="1" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_loop_over}" />
                            </MultiTrigger>

                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="true">
                    <Setter Property="Foreground" Value="White" />
                </Trigger>
                <Trigger Property="IsPressed" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                    </Trigger.EnterActions>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                    </Trigger.EnterActions>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Recorded_Fog_Toggle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid>
                            <Rectangle Stretch="Fill" x:Name="Rectangle1">
                                <Rectangle.Style>
                                    <Style TargetType="{x:Type Shape}">
                                        <Setter Property="Fill" Value="{StaticResource recorded_fog}" />
                                        <Setter Property="Opacity" Value="0.5" />
                                    </Style>
                                </Rectangle.Style>
                            </Rectangle>

                            <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center" Margin="4, 1, 4, 1" />

                        </Grid>
                        <ControlTemplate.Triggers>

                            <Trigger Property="IsEnabled" Value="false">

                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0" />
                            </Trigger>
                            <Trigger Property="IsChecked" Value="true">
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="1" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_fog}" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0.5" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_fog_over}" />
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsChecked" Value="true" />
                                    <Condition Property="IsMouseOver" Value="true" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="1" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_fog_over}" />
                            </MultiTrigger>

                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="true">
                    <Setter Property="Foreground" Value="White" />
                </Trigger>
                <Trigger Property="IsPressed" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                    </Trigger.EnterActions>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                    </Trigger.EnterActions>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Recorded_Camera_Toggle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid>
                            <Rectangle Stretch="Fill" x:Name="Rectangle1">
                                <Rectangle.Style>
                                    <Style TargetType="{x:Type Shape}">
                                        <Setter Property="Fill" Value="{StaticResource recorded_camera}" />
                                        <Setter Property="Opacity" Value="0.5" />
                                    </Style>
                                </Rectangle.Style>
                            </Rectangle>

                            <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center" Margin="4, 1, 4, 1" />

                        </Grid>
                        <ControlTemplate.Triggers>

                            <Trigger Property="IsEnabled" Value="false">

                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0" />
                            </Trigger>
                            <Trigger Property="IsChecked" Value="true">
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="1" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_camera}" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0.5" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_camera_over}" />
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsChecked" Value="true" />
                                    <Condition Property="IsMouseOver" Value="true" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="1" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource recorded_camera_over}" />
                            </MultiTrigger>

                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="true">
                    <Setter Property="Foreground" Value="White" />
                </Trigger>
                <Trigger Property="IsPressed" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                    </Trigger.EnterActions>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                    </Trigger.EnterActions>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Skip_To_Realtime_Toggle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid>
                            <Rectangle Stretch="Fill" x:Name="Rectangle1">
                                <Rectangle.Style>
                                    <Style TargetType="{x:Type Shape}">
                                        <Setter Property="Fill" Value="{StaticResource realtime_toggle}" />
                                        <Setter Property="Opacity" Value="0.5" />
                                    </Style>
                                </Rectangle.Style>
                            </Rectangle>

                            <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center" Margin="4, 1, 4, 1" />

                        </Grid>
                        <ControlTemplate.Triggers>

                            <Trigger Property="IsEnabled" Value="false">

                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0" />
                            </Trigger>
                            <Trigger Property="IsChecked" Value="true">
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="1" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource realtime_toggle}" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="0.5" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource realtime_toggle_over}" />
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsChecked" Value="true" />
                                    <Condition Property="IsMouseOver" Value="true" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Rectangle1" Property="Opacity" Value="1" />
                                <Setter TargetName="Rectangle1" Property="Fill" Value="{StaticResource realtime_toggle_over}" />
                            </MultiTrigger>

                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="true">
                    <Setter Property="Foreground" Value="White" />
                </Trigger>
                <Trigger Property="IsPressed" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                    </Trigger.EnterActions>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="true">
                    <Trigger.EnterActions>
                        <SoundPlayerAction Source="resources/audio/mouseover_00.wav" />
                    </Trigger.EnterActions>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="TextBlock" x:Key="objectivesTextStyle">
            <Setter Property="Height" Value="50" />
            <Setter Property="Width" Value="590" />
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="FontSize" Value="30" />
            <Setter Property="Foreground" Value="{StaticResource ButtonTextGradient}" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="TextAlignment" Value="Center" />
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="4" Color="Black" Direction="-90" ShadowDepth="4" RenderingBias="Quality" />
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="TextBlock" x:Key="CinematicTitleTextBlockStyle">
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="FontSize" Value="50" />
            <Setter Property="TextAlignment" Value="Center" />
            <Setter Property="Foreground" Value="{StaticResource CinematicTitleGradient}" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Margin" Value="0,0,0,0" />
        </Style>
        <LinearGradientBrush x:Key="CinematicTitleGradient" EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="#ffffff" Offset="0" />
            <GradientStop Color="#b9b9b9" Offset="1" />
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="OverlayTitleGradient" EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="#efd365" Offset="0" />
            <GradientStop Color="#f3e3a6" Offset="0.5" />
            <GradientStop Color="#b69721" Offset="1" />
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="TitleGradient" EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="#ffea9e" Offset="0" />
            <GradientStop Color="#cda440" Offset="1" />
        </LinearGradientBrush>

        <Style TargetType="{x:Type TabItem}" x:Key="objectivesTab">
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="FontSize" Value="18" />
            <Setter Property="Foreground" Value="{StaticResource ButtonTextGradient}" />
            <Setter Property="Width" Value="295" />
            <Setter Property="Height" Value="35" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />

            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" Color="Black" Direction="-90" ShadowDepth="1.5" RenderingBias="Quality" />
                </Setter.Value>
            </Setter>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabItem}">
                        <Grid>
                            <Border Name="Border" Margin="10,0,0,0" Background="Transparent" BorderThickness="2" CornerRadius="4">
                                <ContentPresenter x:Name="ContentSite" VerticalAlignment="Center" HorizontalAlignment="Center" ContentSource="Header" Margin="12,2,12,2" RecognizesAccessKey="True">
                                </ContentPresenter>
                                <Border.BorderBrush>
                                    <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                        <LinearGradientBrush.GradientStops>
                                            <GradientStopCollection>
                                                <GradientStop Color="#4f4731" Offset="0.0" />
                                                <GradientStop Color="#b79f66" Offset="0.5" />
                                                <GradientStop Color="#4f4731" Offset="1.0" />
                                            </GradientStopCollection>
                                        </LinearGradientBrush.GradientStops>
                                    </LinearGradientBrush>
                                </Border.BorderBrush>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Panel.ZIndex" Value="100" />
                                <Setter TargetName="Border" Property="Background" Value="#5c441d" />
                                <Trigger.EnterActions>
                                    <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="False">
                                <Setter Property="Panel.ZIndex" Value="-100" />
                                <Setter TargetName="Border" Property="Background" Value="#36270f" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Background" Value="DarkRed" />
                                <Setter TargetName="Border" Property="BorderBrush" Value="Black" />
                                <Setter Property="Foreground" Value="DarkGray" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="TextBlock" BasedOn="{StaticResource ConfirmationTitlesStyle}" x:Key="ConfirmationTitlesStyleSmall">
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="FontSize" Value="19" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="Foreground" Value="{StaticResource ButtonTextGradient4}" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="2" Color="Black" Direction="-90" ShadowDepth="1" RenderingBias="Quality" />
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type ListBoxItem}" x:Key="basicListItem">
            <Setter Property="Height" Value="50" />
            <Setter Property="Width" Value="495" />
            <Setter Property="Margin" Value="0,10,0,0" />
            <Setter Property="FontFamily" Value="Trajan Pro" />
            <Setter Property="FontSize" Value="20" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border Name="Border" Padding="7" CornerRadius="4" SnapsToDevicePixels="True" Background="{TemplateBinding Background}">
                            <ContentPresenter />
                        </Border>
                        <ControlTemplate.Triggers>

                            <Trigger Property="IsMouseOver" Value="true">
                                <Trigger.EnterActions>
                                    <RemoveStoryboard BeginStoryboardName="listisselectedexit" />
                                    <BeginStoryboard x:Name="listmouseover">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1.015" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1.015" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <RemoveStoryboard BeginStoryboardName="listisselectedexit" />
                                    <BeginStoryboard x:Name="listmouseoverexit">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                                <Setter Property="Background" Value="{StaticResource ListViewItemGradientOver}" />
                                <Setter Property="Foreground" Value="#f6f6f6" />
                            </Trigger>

                            <Trigger Property="IsFocused" Value="true">
                                <Trigger.EnterActions>
                                    <RemoveStoryboard BeginStoryboardName="listisselectedexit" />
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1.015" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1.015" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <RemoveStoryboard BeginStoryboardName="listisselectedexit" />
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                                <Setter Property="Background" Value="{StaticResource ListViewItemGradientOver}" />
                                <Setter Property="Foreground" Value="#f6f6f6" />
                            </Trigger>

                            <Trigger Property="IsSelected" Value="true">
                                <Trigger.EnterActions>
                                    <RemoveStoryboard BeginStoryboardName="listmouseover" />
                                    <RemoveStoryboard BeginStoryboardName="listmouseoverexit" />
                                    <BeginStoryboard x:Name="listisselected">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1.03" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1.03" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <RemoveStoryboard BeginStoryboardName="listmouseover" />
                                    <RemoveStoryboard BeginStoryboardName="listmouseoverexit" />
                                    <BeginStoryboard x:Name="listisselectedexit">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)" To="1" Duration="0:0:.2" />
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)" To="1" Duration="0:0:.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                                <Setter Property="Background" Value="{StaticResource ListViewItemGradientSelected}" />
                                <Setter Property="Foreground" Value="#ffffff" />
                            </Trigger>

                            <EventTrigger RoutedEvent="PreviewMouseDown">
                                <SoundPlayerAction Source="resources/audio/bigbutton.wav" />
                            </EventTrigger>

                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="Green" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type ListBoxItem}" BasedOn="{StaticResource basicListItem}" x:Key="deckListItem">
            <Setter Property="Margin" Value="0,0,0,0" />
            <Setter Property="Width" Value="500" />
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Padding="10" Width="410" Text="{Binding Name}" VerticalAlignment="Center" />
                            <Image Source="/resources/skirmish_cards_white.png" Height="30" Width="30" Margin="10,0,0,0" />
                            <TextBlock Padding="10" Width="50" Margin="0,0,0,0" Text="{Binding Number}" />
                        </StackPanel>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Viewbox Style="{StaticResource ViewboxMain}">

        <Grid Width="1920" Height="1080">
            <Grid x:Name="mainGridPanel">
                <Grid.LayoutTransform>
                    <ScaleTransform
                        CenterX="0"
                        CenterY="0"
                        ScaleX="{Binding OptionUIHudScale, Source={StaticResource optionsProxy}}"
                        ScaleY="{Binding OptionUIHudScale, Source={StaticResource optionsProxy}}" />
                </Grid.LayoutTransform>

                <!--Defining Grid-->
                <Grid.RowDefinitions>
                    <RowDefinition Height="10" />
                    <RowDefinition Height="60" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="500" />
                    <RowDefinition Height="10" />
                </Grid.RowDefinitions>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="10" />
                    <ColumnDefinition Width="540" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="685" />
                    <ColumnDefinition Width="10" />
                </Grid.ColumnDefinitions>

                <!--ARMY BANNERS-->
                <StackPanel x:Name="armyBanner" Grid.Row="0" Grid.RowSpan="3" Grid.Column="1" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top" Height="100" Margin="0,-15,0,0" Visibility="Visible">
                    <StackPanel.Resources>
                        <Style TargetType="local:Age3Button" BasedOn="{StaticResource HUDBannerButton}">
                            <Setter Property="Focusable" Value="False"/>
                            <Setter Property="Margin" Value="5,-15,0,0"/>
                        </Style>
                    </StackPanel.Resources>

                    <local:Age3Button x:Name="idleVillagerBanner" ConsoleCommand="uiFindIdleType(&quot;ValidIdleVillager&quot;)" Content=".">
                        <local:Age3Button.ToolTip>
                            $$41608$$Idle Villagers: {numIdle(AbstractVillager)}
                        </local:Age3Button.ToolTip>
                    </local:Age3Button>
                    <local:Age3Button x:Name="armyBanner_unfurled0" Content="1"/>
                    <local:Age3Button x:Name="armyBanner_unfurled1" Content="2"/>
                    <local:Age3Button x:Name="armyBanner_unfurled2" Content="3"/>
                    <local:Age3Button x:Name="armyBanner_unfurled3" Content="4"/>
                    <local:Age3Button x:Name="armyBanner_unfurled4" Content="5"/>
                    <local:Age3Button x:Name="armyBanner_unfurled5" Content="6"/>
                    <local:Age3Button x:Name="armyBanner_unfurled6" Content="7"/>
                    <local:Age3Button x:Name="armyBanner_unfurled7" Content="8"/>
                    <local:Age3Button x:Name="armyBanner_unfurled8" Content="9"/>
                </StackPanel>

                <!--RESOURCES BAR-->
                <Grid Grid.Row="3" Grid.Column="3" HorizontalAlignment="Right" VerticalAlignment="Top" Width="auto" Margin="0,280,320,0" Height="220" Visibility="Visible">
                    <!--RESOURCE PANEL (Has Native, Asian and Advanced Settings too)-->
                    <StackPanel x:Name="resourcePanel" Orientation="Vertical" Visibility="Visible" Margin="0,0,0,0">
                        <StackPanel x:Name="resourcePanel2" Orientation="Vertical" Width="auto" HorizontalAlignment="Left" Margin="0,0,0,0" Visibility="Visible">
                            <!--POPS-->
                            <StackPanel x:Name="resourcePanel_Pops" Orientation="Horizontal" Height="38" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,0,0,0">

                                <Grid  Height="30" Width="40" x:Name="ResourcePopsAdvanced" Visibility="Collapsed"/>

                                <Grid Width="160" Height="38">
                                    <!--BG-->
                                    <Rectangle Width="160" Height="38" Margin="0,0,0,0">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="/resources/images/hud/resource_legacy_pop.png" />
                                        </Rectangle.Fill>
                                    </Rectangle>

                                    <!--Income-->
                                    <TextBlock x:Name="minimapPanel_dptotalPopLeft" Style="{StaticResource RegularTextBlockStyle}" TextAlignment="Left" VerticalAlignment="Center" Margin="45,5,0,0" Height="25" Width="120" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                                    {totalPop}/{popcap}
                                        <TextBlock.ToolTip>
                                            $$32714$$Your current population is {totalpop} / You can support a total population of {popcap}.
                                        </TextBlock.ToolTip>
                                        <TextBlock.Effect>
                                            <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="1" RenderingBias="Quality" />
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>

                            </StackPanel>

                            <!--FOOD-->
                            <StackPanel x:Name="resourcePanel_Food" Orientation="Horizontal" Height="38" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-3,0,0">
                                <!--Settler Counter-->
                                <local:Age3Button x:Name="SettlerCountDialog_foodLabel" Style="{StaticResource settlerCounterButton}" Margin="0,0,0,0" Height="30" Width="40" Visibility="Collapsed" ConsoleCommand="uiFindResourceGatherers(food)">
                                    <TextBlock x:Name="SettlerCountDialog_food" Style="{StaticResource RegularTextBlockStyle}" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center">
                                {numGatherers(food)}
                                    </TextBlock>
                                    <Button.ToolTip>
                                        $$18397$$Food Gatherers: {numGatherers(food)}
                                    </Button.ToolTip>
                                </local:Age3Button>

                                <Grid Width="160" Height="38">
                                    <!--BG-->
                                    <Rectangle Width="160" Height="38" Margin="0,0,0,0">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="/resources/images/hud/resource_legacy_food.png" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                    <!--Income-->
                                    <TextBlock x:Name="minimapPanel_dpfood" Style="{StaticResource RegularTextBlockStyle}" TextAlignment="Left" VerticalAlignment="Center" Margin="45,5,0,0" Height="25" Width="120" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                                {resource(food)}
                                        <TextBlock.ToolTip>
                                            $$18397$$Food Gatherers: {numGatherers(food)}
                                        </TextBlock.ToolTip>
                                        <TextBlock.Effect>
                                            <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="1" RenderingBias="Quality" />
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>

                            </StackPanel>

                            <!--WOOD-->
                            <StackPanel x:Name="resourcePanel_Wood" Orientation="Horizontal" Height="38" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-3,0,0">
                                <!--Settler Counter-->
                                <local:Age3Button x:Name="SettlerCountDialog_woodLabel" Style="{StaticResource settlerCounterButton}" Margin="0,0,0,0" Height="30" Width="40" Visibility="Collapsed" ConsoleCommand="uiFindResourceGatherers(wood)">
                                    <TextBlock x:Name="SettlerCountDialog_wood" Style="{StaticResource RegularTextBlockStyle}" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center">
                                {numGatherers(wood)}
                                    </TextBlock>
                                    <Button.ToolTip>
                                        $$18419$$Wood Gatherers: {numGatherers(wood)}
                                    </Button.ToolTip>
                                </local:Age3Button>

                                <Grid Width="160" Height="38">
                                    <!--BG-->
                                    <Rectangle Width="160" Height="38" Margin="0,0,0,0">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="/resources/images/hud/resource_legacy_wood.png" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                    <!--Income-->
                                    <TextBlock x:Name="minimapPanel_dpwood" Style="{StaticResource RegularTextBlockStyle}" TextAlignment="Left" VerticalAlignment="Center" Margin="45,5,0,0" Height="25" Width="120" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                                {resource(wood)}
                                        <TextBlock.ToolTip>
                                            $$18419$$Wood Gatherers: {numGatherers(wood)}
                                        </TextBlock.ToolTip>
                                        <TextBlock.Effect>
                                            <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="1" RenderingBias="Quality" />
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>

                            </StackPanel>

                            <!--COIN-->
                            <StackPanel x:Name="resourcePanel_Coin" Orientation="Horizontal" Height="38" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-3,0,0">
                                <!--Settler Counter-->
                                <local:Age3Button x:Name="SettlerCountDialog_goldLabel" Style="{StaticResource settlerCounterButton}" Margin="0,0,0,0" Height="30" Width="40" Visibility="Collapsed" ConsoleCommand="uiFindResourceGatherers(gold)">
                                    <TextBlock x:Name="SettlerCountDialog_gold" Style="{StaticResource RegularTextBlockStyle}" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center">
                                {numGatherers(gold)}
                                    </TextBlock>
                                    <Button.ToolTip>
                                        $$18420$$Coin Gatherers: {numGatherers(gold)}
                                    </Button.ToolTip>
                                </local:Age3Button>

                                <Grid Width="160" Height="38">
                                    <!--BG-->
                                    <Rectangle Width="160" Height="38" Margin="0,0,0,0">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="/resources/images/hud/resource_legacy_gold.png" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                    <!--Income-->
                                    <TextBlock x:Name="minimapPanel_dpgold" Style="{StaticResource RegularTextBlockStyle}" TextAlignment="Left" VerticalAlignment="Center" Margin="45,5,0,0" Height="25" Width="120" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                            {resource(gold)}
                                        <TextBlock.ToolTip>
                                            $$18420$$Gold Gatherers: {numGatherers(gold)}
                                        </TextBlock.ToolTip>
                                        <TextBlock.Effect>
                                            <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="1" RenderingBias="Quality" />
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>

                            </StackPanel>

                            <!--IDLE VILLAGER-->
                            <StackPanel x:Name="resourcePanel_Idle" Orientation="Horizontal" Height="38" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-3,0,0">
                                <!--Settler Counter-->
                                <local:Age3Button x:Name="SettlerCountDialog_idle" Style="{StaticResource settlerCounterButton}" Margin="0,0,0,0" Height="30" Width="40" ConsoleCommand="uiFindIdleType(&quot;ValidIdleVillager&quot;)" Visibility="Collapsed">
                                    <TextBlock x:Name="SettlerCountDialog_idleLabel" Style="{StaticResource RegularTextBlockStyle}" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center">
                                {numIdle(AbstractVillager)}
                                    </TextBlock>
                                    <Button.ToolTip>
                                        $$41608$$Idle Villagers: {numIdle(AbstractVillager)}
                                    </Button.ToolTip>
                                </local:Age3Button>

                                <Grid Width="160" Height="38">
                                    <!--BG-->
                                    <Rectangle Width="160" Height="38" Margin="0,0,0,0">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="/resources/images/hud/resource_legacy_villagers.png" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                    <!--Income-->
                                    <TextBlock x:Name="SettlerCountDialog_pop" Style="{StaticResource RegularTextBlockStyle}" TextAlignment="Left" VerticalAlignment="Center" Margin="45,5,0,0" Height="25" Width="120" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                                {numUnits(AbstractVillager)}
                                        <TextBlock.ToolTip>$$29017$$</TextBlock.ToolTip>
                                        <TextBlock.Effect>
                                            <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="1" RenderingBias="Quality" />
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>

                            </StackPanel>

                            <!--NATIVE-->
                            <StackPanel x:Name="resourcePanel_Native" Orientation="Horizontal" Height="38" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-3,0,0" Visibility="Collapsed">
                                <!--Settler Counter-->
                                <local:Age3Button x:Name="SettlerCountDialog_danceLabel" Style="{StaticResource settlerCounterButton}" Margin="0,0,0,0" Height="30" Width="40" Visibility="Collapsed" ConsoleCommand="uiFindDancers">
                                    <TextBlock x:Name="SettlerCountDialog_dance" Style="{StaticResource RegularTextBlockStyle}" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center">
                                {numDancers}
                                    </TextBlock>
                                    <Button.ToolTip>
                                        $$45791$$Dancers: {numDancers}
                                    </Button.ToolTip>
                                </local:Age3Button>

                                <Grid Width="160" Height="38">
                                    <!--BG-->
                                    <Rectangle Width="160" Height="38" Margin="0,0,0,0">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="/resources/images/hud/resource_legacy_dances.png" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                    <!--Income-->
                                    <TextBlock x:Name="minimapPanel_dance" Style="{StaticResource RegularTextBlockStyle}" TextAlignment="Left" VerticalAlignment="Center" Margin="45,5,0,0" Height="25" Width="120" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                            {danceQuickValue}
                                        <TextBlock.ToolTip>
                                            {danceDescription}
                                        </TextBlock.ToolTip>
                                        <TextBlock.Effect>
                                            <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="1" RenderingBias="Quality" />
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>

                            </StackPanel>

                            <!--ASIAN-->
                            <StackPanel x:Name="resourcePanel_Asian" Orientation="Horizontal" Height="38" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-3,0,0" Visibility="Collapsed">

                                <Grid  Height="30" Width="40" x:Name="ResourceExportAdvanced" Visibility="Collapsed"></Grid>

                                <Grid Width="160" Height="38">
                                    <!--BG-->
                                    <Rectangle Width="160" Height="38" Margin="0,0,0,0">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="/resources/images/hud/resource_legacy_export.png" />
                                        </Rectangle.Fill>
                                    </Rectangle>
                                    <!--Income-->
                                    <TextBlock x:Name="minimapPanel_trade" Style="{StaticResource RegularTextBlockStyle}" TextAlignment="Left" VerticalAlignment="Center" Margin="45,4,0,0" Height="25" Width="120" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                            {resource(trade)}
                                        <TextBlock.ToolTip>
                                            $$61365$$Trade Gatherers: {numGatherers(trade)}
                                        </TextBlock.ToolTip>
                                        <TextBlock.Effect>
                                            <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="1" RenderingBias="Quality" />
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>

                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </Grid>

                <!--HC INFO-->
                <Grid x:Name="hc_playername" Grid.Column="3" Grid.ColumnSpan="4" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Top" Height="180" Width="504" Visibility="Collapsed">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="15" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="15" />
                    </Grid.RowDefinitions>

                    <Control Grid.RowSpan="5" Style="{StaticResource Ingame_PanelBGStyle}" Margin="-15,-15,-10,-45" />
                    <Rectangle Grid.Row="1" HorizontalAlignment="Center" Height="40" Width="450" Margin="0,0,10,0" Style="{StaticResource PanelBGSection}" />

                    <Rectangle Grid.Row="2" HorizontalAlignment="Center" Height="40" Width="450" Margin="0,0,10,0" Style="{StaticResource PanelBGSection}" />

                    <TextBlock x:Name="homecitytransportpanel_homecityPlayer" Grid.Row="1" Style="{StaticResource RegularTextBlockStyle}" VerticalAlignment="Center" HorizontalAlignment="Center" TextAlignment="Center" Width="430" Margin="0,0,0,0" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                    Player Name
                    </TextBlock>

                    <TextBlock x:Name="homecitytransportpanelhomecityName" Grid.Row="2" Style="{StaticResource RegularTextBlockStyle}" VerticalAlignment="Center" HorizontalAlignment="Center" TextAlignment="Center" Width="430" Margin="0,0,0,0" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                    Player Civ
                    </TextBlock>

                    <Grid x:Name="hc_playerlvl" Grid.Row="3">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Rectangle Grid.Column="0" HorizontalAlignment="Left" Width="220" Height="40" Margin="20,0,0,0" VerticalAlignment="Center" Style="{StaticResource PanelBGSection}" />

                        <Rectangle Grid.Column="1" HorizontalAlignment="Right" Width="220" Height="40" Margin="0,0,35,0" VerticalAlignment="Center" Style="{StaticResource PanelBGSection}" />

                        <TextBlock x:Name="homecitytransportpanel_homecityLevel" Grid.Column="0" Style="{StaticResource RegularTextBlockStyle}" Width="190" VerticalAlignment="Center" TextAlignment="Center" HorizontalAlignment="Center" Margin="10,0,0,0" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                        Level 1
                        </TextBlock>
                        <TextBlock x:Name="homecitytransportpanel_homecityExp" Grid.Column="1" Style="{StaticResource RegularTextBlockStyle}" Width="190" VerticalAlignment="Center" TextAlignment="Center" Margin="10,0,0,0" FontFamily="Trajan Pro" FontSize="20" FontWeight="Bold">
                        XP 99,999
                        </TextBlock>
                    </Grid>
                </Grid>

                <StackPanel Grid.Row="2" Grid.RowSpan="2" Grid.Column="3" HorizontalAlignment="Right" VerticalAlignment="Top">
                    <!--RECORD CONTROLLER-->
                    <Grid Name="RecordGamePlaybackPanel" HorizontalAlignment="Right" Width="600" Height="60" Margin="0,-5,-5,0" Background="{StaticResource uiresourcesbar_bg_fill}" Visibility="Collapsed">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="20" />
                            <ColumnDefinition Width="50" />
                            <ColumnDefinition Width="50" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="20" />
                        </Grid.ColumnDefinitions>

                        <ToggleButton x:Name="RecordGameCtrl_LoopCheck" Height="35" Width="35" Grid.Column="1" Style="{StaticResource Recorded_Loop_Toggle}">
                            <ToggleButton.ToolTip>
                                $$19007$$Loop
                            </ToggleButton.ToolTip>
                        </ToggleButton>
                        <ToggleButton x:Name="RecordGameCtrl_PauseBtn" Height="35" Width="35" Grid.Column="2" Style="{StaticResource Recorded_Pause_Toggle}">
                            <ToggleButton.ToolTip>
                                $$43430$$Pause/Unpause Gameplay
                            </ToggleButton.ToolTip>
                        </ToggleButton>
                        <RadioButton GroupName="fastForwardButton" x:Name="RecordGameCtrl_SlowBtn" Height="35" Width="35" Grid.Column="4" Style="{StaticResource Recorded_Slow_Toggle}">
                            <ToggleButton.ToolTip>
                                $$71028$$Play Slowly
                            </ToggleButton.ToolTip>
                        </RadioButton>
                        <RadioButton GroupName="fastForwardButton" x:Name="RecordGameCtrl_MedBtn" Height="35" Width="35" Grid.Column="5" Style="{StaticResource Recorded_Med_Toggle}">
                            <ToggleButton.ToolTip>
                                $$20159$$Play Fast
                            </ToggleButton.ToolTip>
                        </RadioButton>
                        <RadioButton GroupName="fastForwardButton" x:Name="RecordGameCtrl_FastBtn" Height="35" Width="35" Grid.Column="6" Style="{StaticResource Recorded_Fast_Toggle}">
                            <ToggleButton.ToolTip>
                                $$71029$$Play Very Fast
                            </ToggleButton.ToolTip>
                        </RadioButton>
                        <ToggleButton x:Name="RecordGameCtrl_FogCheck" Height="30" Width="30" Grid.Column="7" Style="{StaticResource Recorded_Fog_Toggle}">
                            <ToggleButton.ToolTip>
                                $$19006$$Fog of War
                            </ToggleButton.ToolTip>
                        </ToggleButton>
                        <ToggleButton x:Name="RecordGameCtrl_CameraCheck" Height="30" Width="30" Grid.Column="8" Style="{StaticResource Recorded_Camera_Toggle}">
                            <ToggleButton.ToolTip>
                                $$19005$$View Lock
                            </ToggleButton.ToolTip>
                        </ToggleButton>

                        <StackPanel Grid.Column="3" VerticalAlignment="Center" Margin="10,0,10,0">
                            <Grid Margin="0,0,0,0">
                                <!--Timeline Title-->
                                <TextBlock x:Name="timeline_Label" HorizontalAlignment="Left" VerticalAlignment="Center" TextAlignment="Left" FontFamily="Trajan Pro" FontSize="15" Foreground="White">
                                    $$19045$$Timeline
                                </TextBlock>
                                <!--Timeline Timer-->
                                <TextBlock x:Name="timeline_Timer" HorizontalAlignment="Right" VerticalAlignment="Center" TextAlignment="Right" FontFamily="Trajan Pro" FontSize="15" Foreground="White">
                                    00:00
                                </TextBlock>
                            </Grid>
                            <!--Timeline Slider-->
                            <Slider x:Name="RecordGameCtrl_timeSlider" Height="10" />
                        </StackPanel>
                    </Grid>

                    <!--RECORD CONTROLLER-->
                    <Grid Name="SpectatorGamePlaybackPanel" HorizontalAlignment="Right" Width="600" Height="60" Margin="0,-5,-5,0" Background="{StaticResource uiresourcesbar_bg_fill}" Visibility="Collapsed">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="20" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="20" />
                        </Grid.ColumnDefinitions>

                        <ToggleButton x:Name="SpectatorGameCtrl_PauseBtn" Height="35" Width="35" Grid.Column="1" Style="{StaticResource Recorded_Pause_Toggle}">
                            <ToggleButton.ToolTip>
                                $$43430$$Pause/Unpause Gameplay
                            </ToggleButton.ToolTip>
                        </ToggleButton>
                        <RadioButton GroupName="fastForwardButton" x:Name="SpectatorGameCtrl_SlowBtn" Height="35" Width="35" Grid.Column="2" Style="{StaticResource Recorded_Slow_Toggle}">
                            <ToggleButton.ToolTip>
                                $$71028$$Play Slowly
                            </ToggleButton.ToolTip>
                        </RadioButton>
                        <RadioButton GroupName="fastForwardButton" x:Name="SpectatorGameCtrl_MedBtn" Height="35" Width="35" Grid.Column="3" Style="{StaticResource Recorded_Med_Toggle}">
                            <ToggleButton.ToolTip>
                                $$20159$$Play Fast
                            </ToggleButton.ToolTip>
                        </RadioButton>
                        <RadioButton GroupName="fastForwardButton" x:Name="SpectatorGameCtrl_FastBtn" Height="35" Width="35" Grid.Column="4" Style="{StaticResource Recorded_Fast_Toggle}">
                            <ToggleButton.ToolTip>
                                $$71029$$Play Very Fast
                            </ToggleButton.ToolTip>
                        </RadioButton>
                        <RadioButton GroupName="fastForwardButton" x:Name="SpectatorGameCtrl_RealTimeBtn" Height="35" Width="35" Grid.Column="5" Style="{StaticResource Skip_To_Realtime_Toggle}">
                            <ToggleButton.ToolTip>
                                $$71029$$Play Very Fast
                            </ToggleButton.ToolTip>
                        </RadioButton>
                        <ToggleButton x:Name="SpectatorGameCtrl_FogCheck" Height="30" Width="30" Grid.Column="7" Style="{StaticResource Recorded_Fog_Toggle}">
                            <ToggleButton.ToolTip>
                                $$19006$$Fog of War
                            </ToggleButton.ToolTip>
                        </ToggleButton>
                        <ToggleButton x:Name="SpectatorGameCtrl_CameraCheck" Height="30" Width="30" Grid.Column="8" Style="{StaticResource Recorded_Camera_Toggle}">
                            <ToggleButton.ToolTip>
                                $$19005$$View Lock
                            </ToggleButton.ToolTip>
                        </ToggleButton>

                        <Grid Grid.Column="6" HorizontalAlignment="Center" VerticalAlignment="Center" Width="250">
                            <!--Timeline Title-->
                            <TextBlock x:Name="spectatortimeline_Label" HorizontalAlignment="Left" VerticalAlignment="Center" FontFamily="Trajan Pro" FontSize="18" Foreground="White">
                                    $$20513$$Time
                            </TextBlock>
                            <!--Timeline Timer-->
                            <TextBlock x:Name="spectatortimeline_Timer" HorizontalAlignment="Right" VerticalAlignment="Center" FontFamily="Trajan Pro" FontSize="18" Foreground="White">
                                    00:00
                            </TextBlock>
                        </Grid>
                    </Grid>

                    <!--RECORDED/SPECTATOR GAME PLAYERBOARD-->
                    <Grid Name="RecordGamePlayersPanel" HorizontalAlignment="Right" Width="600" Height="100" Margin="0,-5,-10,0" Visibility="Collapsed">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="50" />
                        </Grid.ColumnDefinitions>

                        <Control Grid.ColumnSpan="5" Style="{StaticResource Ingame_PanelBGStyle}" Margin="-15,-15,-10,-45" />

                        <!--Cycle Players-->
                        <local:Age3Button x:Name="previousPlayer_Button" Grid.Column="0" Style="{StaticResource BackButtonLarge}" Height="35" Width="35" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="10,0,0,0"/>
                        <local:Age3Button x:Name="nextPlayer_Button" Grid.Column="2" Style="{StaticResource ForwardButtonLarge}" Height="35" Width="35" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0,0,10,0"/>

                        <!--Name-->
                        <Grid Grid.Column="1" VerticalAlignment="Center" Height="80">
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock x:Name="playerinfo_Name" Grid.Row="0" Style="{StaticResource playerSummaryTextStyles}" Width="500" Text="Suleiman_the_Magnificent_Suleiman" FontWeight="Bold" />
                                <Rectangle Height="1" Width="500" Fill="White" Opacity="0.5" Margin="0,5,0,5"/>
                                <TextBlock x:Name="playerinfo_Age" Grid.Row="1" Style="{StaticResource playerSummaryTextStyles}" Width="500" Text="$$70788$$I: Exploration Age" FontWeight="Bold" Margin="10,0,0,0"/>
                            </StackPanel>
                        </Grid>
                    </Grid>

                    <!--EXTRA UI OPTIONS-->
                    <!--GAME TIME-->
                    <StackPanel IsHitTestVisible="False" x:Name="scenarioInfoPanel" Grid.Row="2" Grid.RowSpan="2" Grid.Column="3" HorizontalAlignment="Right" VerticalAlignment="Top" Orientation="Vertical" Height="650" Width="680" Margin="0,5,0,0" Visibility="Visible">
                        <DockPanel x:Name="victoryTimerPanel0" HorizontalAlignment="Right" Height="40" Width="450" Background="#66000000" Margin="0,5,0,0" Visibility="Collapsed">
                            <Viewbox>
                                <TextBlock x:Name="victoryTimerDisplay0" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" Style="{StaticResource RegularTextBlockStyle}" MinWidth="430" Text="00:00:00"/>
                            </Viewbox>
                        </DockPanel>

                        <DockPanel x:Name="victoryTimerPanel1" HorizontalAlignment="Right" Height="40" Width="450" Background="#66000000" Margin="0,5,0,0" Visibility="Collapsed">
                            <Viewbox>
                                <TextBlock x:Name="victoryTimerDisplay1" HorizontalAlignment="Center" VerticalAlignment="Center"  FontSize="15" Style="{StaticResource RegularTextBlockStyle}" MinWidth="430" Text="00:00:00"/>
                            </Viewbox>
                        </DockPanel>

                        <DockPanel x:Name="victoryTimerPanel2" HorizontalAlignment="Right" Height="40" Width="450" Background="#66000000" Margin="0,5,0,0" Visibility="Collapsed">
                            <Viewbox>
                                <TextBlock x:Name="victoryTimerDisplay2" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" Style="{StaticResource RegularTextBlockStyle}" MinWidth="430" Text="00:00:00"/>
                            </Viewbox>
                        </DockPanel>

                        <DockPanel x:Name="victoryTimerPanel3" HorizontalAlignment="Right" Height="40" Width="450" Background="#66000000" Margin="0,5,0,0" Visibility="Collapsed">
                            <Viewbox>
                                <TextBlock x:Name="victoryTimerDisplay3" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" Style="{StaticResource RegularTextBlockStyle}" MinWidth="430" Text="00:00:00"/>
                            </Viewbox>
                        </DockPanel>

                        <DockPanel x:Name="victoryTimerPanel4" HorizontalAlignment="Right" Height="40" Width="450" Background="#66000000" Margin="0,5,0,0" Visibility="Collapsed">
                            <Viewbox>
                                <TextBlock x:Name="victoryTimerDisplay4" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" Style="{StaticResource RegularTextBlockStyle}" MinWidth="430" Text="00:00:00"/>
                            </Viewbox>
                        </DockPanel>

                        <DockPanel x:Name="victoryTimerPanel5" HorizontalAlignment="Right" Height="40" Width="450" Background="#66000000" Margin="0,5,0,0" Visibility="Collapsed">
                            <Viewbox>
                                <TextBlock x:Name="victoryTimerDisplay5" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" Style="{StaticResource RegularTextBlockStyle}" MinWidth="430" Text="00:00:00"/>
                            </Viewbox>
                        </DockPanel>

                        <DockPanel x:Name="victoryTimerPanel6" HorizontalAlignment="Right" Height="40" Width="450" Background="#66000000" Margin="0,5,0,0" Visibility="Collapsed">
                            <Viewbox>
                                <TextBlock x:Name="victoryTimerDisplay6" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" Style="{StaticResource RegularTextBlockStyle}" MinWidth="430" Text="00:00:00"/>
                            </Viewbox>
                        </DockPanel>

                        <DockPanel x:Name="victoryTimerPanel7" HorizontalAlignment="Right" Height="40" Width="450" Background="#66000000" Margin="0,5,0,0" Visibility="Collapsed">
                            <Viewbox>
                                <TextBlock x:Name="victoryTimerDisplay7" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" Style="{StaticResource RegularTextBlockStyle}" MinWidth="430" Text="00:00:00"/>
                            </Viewbox>
                        </DockPanel>

                        <DockPanel x:Name="objectivesBanner" HorizontalAlignment="Right" Height="Auto" Width="450" Background="#66000000" Margin="0,5,0,0" Visibility="Collapsed">
                            <StackPanel HorizontalAlignment="Right" VerticalAlignment="Top" Height="Auto" Width="450" Visibility="Visible">
                                <Grid HorizontalAlignment="Left" VerticalAlignment="Center" Width="450" Visibility="{Binding ElementName=objectivesBannerPrimaryHeading, Path=Visibility}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <Grid Grid.Row="0">
                                        <Grid.Background>
                                            <SolidColorBrush Color="Black" Opacity="0.7"/>
                                        </Grid.Background>
                                        <TextBlock x:Name="objectivesBannerPrimaryHeading" FontFamily="Trajan Pro" FontSize="21" Style="{StaticResource ConfirmationTitlesStyleSmall}" HorizontalAlignment="Left" Margin="5">
                                    $$31802$$Primary Objectives
                                        </TextBlock>
                                    </Grid>

                                    <ListBox Grid.Row="1" x:Name="objectivesBannerPrimary" Style="{StaticResource objectivesListBox}" ItemContainerStyle="{StaticResource objectiveHUDTextStyle}"/>
                                </Grid>

                                <Grid HorizontalAlignment="Left" VerticalAlignment="Center" Width="450" Visibility="{Binding ElementName=objectivesBannerSecondary, Path=Visibility}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <Grid Grid.Row="0" HorizontalAlignment="Left" VerticalAlignment="Center" Width="450">
                                        <Grid.Background>
                                            <SolidColorBrush Color="Black" Opacity="0.7"/>
                                        </Grid.Background>
                                        <TextBlock x:Name="objectivesBannerSecondaryHeading" FontFamily="Trajan Pro" FontSize="21" Style="{StaticResource ConfirmationTitlesStyleSmall}" HorizontalAlignment="Left" Margin="5">
                                    $$31803$$Secondary Objectives
                                        </TextBlock>
                                    </Grid>

                                    <ListBox Grid.Row="1" x:Name="objectivesBannerSecondary" Style="{StaticResource objectivesListBox}" ItemContainerStyle="{StaticResource objectiveHUDTextStyle}"/>
                                </Grid>
                            </StackPanel>
                        </DockPanel>

                        <Grid x:Name="ScoreBoard" HorizontalAlignment="Right" VerticalAlignment="Top" Height="auto" Width="450" Margin="0,5,0,0" Visibility="Visible">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="35" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <Grid x:Name="ScoreLabel" Grid.Row="0">
                                <Grid.Background>
                                    <SolidColorBrush Color="#66000000"/>
                                </Grid.Background>
                                <TextBlock Style="{StaticResource ConfirmationTitlesStyleSmall}" HorizontalAlignment="Left" Margin="10,3,0,0" TextAlignment="Left" FontWeight="Bold" FontSize="21" Text="$$19034$$Score" />
                            </Grid>

                            <ListBox Grid.Row="1" x:Name="PlayerList"  ItemContainerStyle="{StaticResource scoreboardplayers}" Focusable="False">
                                <ListBox.Template>
                                    <ControlTemplate>
                                        <ItemsPresenter/>
                                    </ControlTemplate>
                                </ListBox.Template>

                                <ListBox.Style>
                                    <Style TargetType="ListBox">
                                        <Setter Property="MinHeight" Value="1" />
                                    </Style>
                                </ListBox.Style>
                            </ListBox>
                        </Grid>
                    </StackPanel>
                </StackPanel>

                <!--OBJECTIVES-->
                <Grid x:Name="objectivesPanel" Grid.Column="3" Grid.Row="2" Grid.RowSpan="2" Grid.ColumnSpan="2" Width="645" Height="540" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0,10,0,0">
                    <Grid.Style>
                        <Style TargetType="Grid">
                            <Setter Property="Visibility" Value="Hidden"/>
                        </Style>
                    </Grid.Style>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="40" />
                        <RowDefinition Height="80" />
                        <RowDefinition Height="70" />
                    </Grid.RowDefinitions>

                    <!--Background panel-->
                    <local:Age3PanelBG Grid.RowSpan="9" Stroke="Black" StrokeThickness="8" Margin="0,0,0,-43">
                        <local:Age3PanelBG.Fill>
                            <ImageBrush ImageSource="/resources/wood.png" />
                        </local:Age3PanelBG.Fill>
                        <local:Age3PanelBG.Effect>
                            <DropShadowEffect Color="Black" Direction="-90" ShadowDepth="3" BlurRadius="30" />
                        </local:Age3PanelBG.Effect>
                    </local:Age3PanelBG>

                    <local:Age3PanelBG Grid.RowSpan="9" Fill="Transparent" Stroke="{StaticResource PanelBGStrokeGradient}" StrokeThickness="3" Margin="2,2,7,-38" />

                    <!--Objective Panels-->
                    <Rectangle Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="15,0,25,0" Style="{StaticResource PanelBGSection}" />
                    <Rectangle Grid.Row="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="19,38,24,3" Style="{StaticResource PanelBGSection}" />
                    <Rectangle Grid.Row="4" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="15,0,25,0" Style="{StaticResource PanelBGSection}" />

                    <!--Title-->
                    <TextBlock x:Name="scenarioTitle" Grid.Row="0" Style="{StaticResource objectivesTextStyle}" TextWrapping="Wrap" FontSize="25" Width="600" Height="auto" Margin="0,20,0,0">
                        SUPER LONG CAMPAIGN TITLE
                    </TextBlock>

                    <!--Objective Label-->
                    <TextBlock x:Name="scenarioDescription" Grid.Row="1" Style="{StaticResource objectivesTextStyle}" TextWrapping="Wrap" FontSize="18" Width="580" Height="auto" FontWeight="Bold" Foreground="White" Margin="0,10,0,10">
                        Defend the Fort Command Post
                    </TextBlock>

                    <!--Objective Label-->
                    <TextBlock Grid.Row="3" Style="{StaticResource objectivesTextStyle}" FontSize="18" Height="30" Width="580" Margin="0,10,0,0">
                        $$31804$$Objective Details
                    </TextBlock>

                    <!--Objectives Details-->
                    <ScrollViewer Grid.Row="4" Margin="25,10,35,10" VerticalScrollBarVisibility="Auto">
                        <TextBlock x:Name="objDetails" TextWrapping="Wrap" FontFamily="arial" FontSize="16" Foreground="White">
                        You should move your settlers to the top of the hill quickly. Gather all the wood piles near the fire pit and light it. Your only settlers are in the village north. If you lose them, you will not light the fire.
                        </TextBlock>
                    </ScrollViewer>

                    <TabControl Grid.Row="2" Background="Transparent" BorderBrush="Transparent" BorderThickness="0" Margin="20,5,25,5">
                        <TabControl.Resources>
                            <Style TargetType="{x:Type TabPanel}">
                                <Setter Property="HorizontalAlignment" Value="Center" />
                            </Style>
                            <Style TargetType="{x:Type TabControl}">
                                <Setter Property="HorizontalAlignment" Value="Center" />
                            </Style>
                        </TabControl.Resources>

                        <TabItem Style="{StaticResource objectivesTab}" Header="$$79840$$Primary" >
                            <ListView x:Name="primaryobj" Style="{StaticResource FileManagerListBox}" Width="590" Height="170" ScrollViewer.CanContentScroll="False" ScrollViewer.VerticalScrollBarVisibility="Visible" SelectionMode="Single">
                                <ListView.Resources>
                                    <Style TargetType="GridViewColumnHeader">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="TextWrapping" Value="Wrap"/>
                                    </Style>
                                </ListView.Resources>
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="Name" Width="570" DisplayMemberBinding="{Binding Primary}" />
                                    </GridView>
                                </ListView.View>
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="Height" Value="40" />
                                        <Setter Property="Width" Value="570" />
                                        <Setter Property="FontFamily" Value="arial" />
                                        <Setter Property="FontSize" Value="16" />
                                        <Setter Property="Foreground" Value="{Binding TextColor}" />
                                        <Setter Property="Background" Value="Transparent" />
                                        <Setter Property="HorizontalAlignment" Value="Center" />
                                        <Setter Property="VerticalContentAlignment" Value="Center"/>

                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                    <Border Background="{TemplateBinding Background}">
                                                        <GridViewRowPresenter Content="{TemplateBinding Content}" />
                                                    </Border>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>

                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="{StaticResource button_filemanager_hover_fill}" />
                                            </Trigger>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Background" Value="{StaticResource button_filemanager_selected_fill}" />
                                            </Trigger>
                                            <EventTrigger RoutedEvent="PreviewMouseDown">
                                                <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                                            </EventTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ListView.ItemContainerStyle>
                            </ListView>
                        </TabItem>

                        <TabItem Style="{StaticResource objectivesTab}" Header="$$79841$$Secondary" >
                            <ListView x:Name="secondaryobj" Style="{StaticResource FileManagerListBox}" Width="590" Height="170" ScrollViewer.CanContentScroll="False" ScrollViewer.VerticalScrollBarVisibility="Visible" SelectionMode="Single">
                                <ListView.Resources>
                                    <Style TargetType="GridViewColumnHeader">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="TextWrapping" Value="Wrap"/>
                                    </Style>
                                </ListView.Resources>
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="Name" Width="570" DisplayMemberBinding="{Binding Secondary}" />
                                    </GridView>
                                </ListView.View>
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="Height" Value="40" />
                                        <Setter Property="Width" Value="570" />
                                        <Setter Property="FontFamily" Value="arial" />
                                        <Setter Property="FontSize" Value="16" />
                                        <Setter Property="Foreground" Value="{Binding TextColor}" />
                                        <Setter Property="Background" Value="Transparent" />
                                        <Setter Property="HorizontalAlignment" Value="Center" />
                                        <Setter Property="VerticalContentAlignment" Value="Center"/>

                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                    <Border Background="{TemplateBinding Background}">
                                                        <GridViewRowPresenter Content="{TemplateBinding Content}" />
                                                    </Border>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>

                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="{StaticResource button_filemanager_hover_fill}" />
                                            </Trigger>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Background" Value="{StaticResource button_filemanager_selected_fill}" />
                                            </Trigger>
                                            <EventTrigger RoutedEvent="PreviewMouseDown">
                                                <SoundPlayerAction Source="resources/audio/smallbutton.wav" />
                                            </EventTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ListView.ItemContainerStyle>
                            </ListView>
                        </TabItem>
                    </TabControl>



                    <!--Checkboxes-->
                    <Grid Grid.Row="8" Margin="20,5,20,0" VerticalAlignment="Top">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <CheckBox x:Name="displayInHudCheckbox" Grid.Column="0" Style="{StaticResource Checkbox_Medium}" FontFamily="Trajan Pro" FontSize="12" Foreground="Gold" VerticalContentAlignment="Center" Content="$$70555$$Display in HUD" />
                        <local:Age3Button x:Name="closeBtn" Grid.Column="1" Style="{StaticResource MainMenuButton}" Margin="0,0,0,0" Width="200" VerticalAlignment="Center" Content="$$18457$$Close" />
                    </Grid>
                </Grid>

                <!--MENU DROPDOWN (Turn on when Menu Button is selected)-->
                <Grid x:Name="mainGameMenu" Grid.Column="3" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Top" Width="260" Margin="0,-4,25,0" Visibility="Collapsed">
                    <ContentControl Template="{StaticResource QueueBG}"  Margin="-5,-10,-5,-5"/>
                    <StackPanel>
                        <local:Age3Button x:Name="InGameMenu_TechTree" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" Content="$$70747$$Technology Tree" ConsoleCommand="">
                            <Button.ToolTip>$$71260$$Open technology tree.</Button.ToolTip>
                        </local:Age3Button>
                        <local:Age3Button x:Name="InGameMenu_SaveGame" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" Content="$$18442$$Save Game" ConsoleCommand="gadgetUnReal(&quot;mainGameMenu&quot;) uiSaveSavedGameBrowser()">
                            <Button.ToolTip>$$71261$$Save the current game.</Button.ToolTip>
                        </local:Age3Button>
                        <local:Age3Button x:Name="InGameMenu_LoadSavedGame" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" Content="$$42322$$Load" ConsoleCommand="gadgetUnReal(&quot;mainGameMenu&quot;) uiOpenSavedGameBrowser()">
                            <Button.ToolTip>$$71262$$Load a saved game.</Button.ToolTip>
                        </local:Age3Button>
                        <local:Age3Button x:Name="InGameMenu_RestartGame" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" Content="$$20142$$Restart" ConsoleCommand="gadgetReal(&quot;RestartDialog&quot;) gadgetUnReal(&quot;mainGameMenu&quot;)">
                            <Button.ToolTip>$$71263$$>Restart the current game.</Button.ToolTip>
                        </local:Age3Button>
                        <local:Age3Button x:Name="InGameMenu_PlayerOptions" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" Content="$$42324$$Options" ConsoleCommand="gadgetUnReal(&quot;mainGameMenu&quot;) modeEnter(&quot;Options&quot;)">
                            <Button.ToolTip>$$71264$$Open the options menu.</Button.ToolTip>
                        </local:Age3Button>
                        <local:Age3Button x:Name="InGameMenu_ResignGame" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" Content="$$18444$$Resign" ConsoleCommand="gadgetReal(&quot;ConfirmResignSinglePlayer&quot;) gadgetUnReal(&quot;mainGameMenu&quot;)">
                            <Button.ToolTip>$$71265$$Resign the current game.</Button.ToolTip>
                        </local:Age3Button>
                        <local:Age3Button x:Name="InGameMenu_QuitMainMenu" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,5" Content="$$42323$$Quit" ConsoleCommand="gadgetReal(&quot;ConfirmQuit&quot;) gadgetUnReal(&quot;mainGameMenu&quot;)">
                            <Button.ToolTip>$$71266$$Quit the current game.</Button.ToolTip>
                        </local:Age3Button>
                    </StackPanel>
                </Grid>

                <!--POST MENU DROPDOWN (Display when player resigns)-->
                <Grid x:Name="postGameMenu" Grid.Column="3" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Top" Width="260" Margin="0,-4,25,0" Visibility="Collapsed">
                    <ContentControl Template="{StaticResource QueueBG}"  Margin="-5,-10,-5,-5"/>
                    <StackPanel>
                        <local:Age3Button x:Name="postGameMenu_ViewPostgame" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" ConsoleCommand="gadgetUnReal(&quot;postGameMenu&quot;) handlePostGame">
                            $$20152$$View Postgame
                        </local:Age3Button>
                        <local:Age3Button x:Name="postGameMenu_RestartGame" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" ConsoleCommand="gadgetReal(&quot;RestartDialog&quot;) gadgetUnReal(&quot;mainGameMenu&quot;)">
                            $$20142$$Restart
                        </local:Age3Button>
                        <local:Age3Button x:Name="postGameMenu_PlayerOptions" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" ConsoleCommand="gadgetUnReal(&quot;postGameMenu&quot;) modeEnter(&quot;Options&quot;)">
                            $$42324$$Options
                        </local:Age3Button>
                        <local:Age3Button x:Name="postGameMenu_QuitGame" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,5" ConsoleCommand="gadgetUnReal(&quot;postGameMenu&quot;) leaveGame">
                            $$42323$$Quit
                        </local:Age3Button>
                    </StackPanel>
                </Grid>

                <!--RECORDED/SPECTATOR MENU DROPDOWN (Display for Recorded sessions)-->
                <Grid x:Name="recordGameMenu" Grid.Column="3" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Top" Width="260" Margin="0,-4,25,0" Visibility="Collapsed">
                    <ContentControl Template="{StaticResource QueueBG}"  Margin="-5,-10,-5,-5"/>
                    <StackPanel>
                        <local:Age3Button x:Name="recordGameMenu_TechTree" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" ConsoleCommand="">
                            $$70747$$Technology Tree
                        </local:Age3Button>
                        <local:Age3Button x:Name="recordGameMenu_PlayerOptions" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,0" ConsoleCommand="gadgetUnReal(&quot;postGameMenu&quot;) modeEnter(&quot;Options&quot;)">
                            $$42324$$Options
                        </local:Age3Button>
                        <local:Age3Button x:Name="recordGameMenu_QuitGame" Style="{StaticResource MainMenuButton}" Width="250" Margin="0,5,0,5" ConsoleCommand="gadgetUnReal(&quot;postGameMenu&quot;) leaveGame">
                            $$42323$$Quit
                        </local:Age3Button>
                    </StackPanel>
                </Grid>

                <!--MENU PANEL-->
                <Grid x:Name="menuPanel" Grid.Column="2" Grid.Row="1" Grid.ColumnSpan="3" HorizontalAlignment="Right" Width="{Binding ElementName=mainmenuPanel, Path=ActualWidth}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="15" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="22" />
                    </Grid.ColumnDefinitions>

                    <Control Grid.ColumnSpan="3" Style="{StaticResource Ingame_PanelBGStyle}" Margin="-15,-15,-10,-45" />

                    <StackPanel x:Name="mainmenuPanel" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">

                        <!--Age Container-->
                        <Grid Margin="50,1,0,2" Height="44">
                            <Image x:Name="uimain_AgeAdvBG" HorizontalAlignment="Center" Width="350" VerticalAlignment="Center" Stretch="Fill" Source="/resources/images/hud/progressbg.png" />

                            <ProgressBar x:Name="uimain_AgeAdvFG" HorizontalAlignment="Center" Width="340" Height="45" Margin="0,1,0,0" VerticalAlignment="Center" Value="0" Style="{StaticResource PanelFGProgression}" Visibility="Visible" />

                            <StackPanel Width="340" Orientation="Vertical" Visibility="Visible" VerticalAlignment="Center">
                                <!--Age Title-->
                                <TextBlock x:Name="titleBarPanel_text2" Style="{StaticResource RegularTextBlockStyle}" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="10,1,10,0" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="18" TextAlignment="Center">
                                    {playerAge}
                                </TextBlock>
                                <DockPanel x:Name="timePanel" HorizontalAlignment="Right" Height="20" Width="340" Margin="0,-1,0,0" Visibility="Collapsed">
                                    <TextBlock x:Name="timeDisplay" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18" Margin="0,0,0,0" Style="{StaticResource RegularTextBlockStyle}" Opacity="0.8">
                                    00:00:10:21 {Moderate}
                                    </TextBlock>
                                </DockPanel>
                            </StackPanel>
                        </Grid>

                        <!--Player Summary Button-->
                        <local:Age3Button x:Name="minimapPanel_tributebutton2" Height="35" Width="70" Style="{StaticResource HUDButton}" Focusable="False" ConsoleCommand="hideGameMenu() uiShowPlayerSummaryDialog" Margin="10,0,0,0" >
                            <Button.ToolTip>$$20842$$Player Summary: tribute allies or view information about player Home Cities</Button.ToolTip>
                            <Image Source="{StaticResource hud_icon_summary}" Width="60" Height="30" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,-3,0,0" />
                        </local:Age3Button>

                        <!--Objectives Button-->
                        <local:Age3Button x:Name="objectivesDialogButton" Style="{StaticResource objectivesToggleButton}" Focusable="False" Height="35" Width="70" HorizontalAlignment="Center" Margin="10,0,0,0" Visibility="Visible" ConsoleCommand="hideGameMenu() toggleObjectivesMenu()">
                            <Button.ToolTip>
                                $$31805$$Click on this button to view your objectives.
                            </Button.ToolTip>
                        </local:Age3Button>

                        <!--Diplomacy Button-->
                        <local:Age3Button x:Name="InGameMenu_SendResource" Style="{StaticResource diplomacyToggleButton}" Focusable="False" Height="35" Width="70" HorizontalAlignment="Center" Margin="10,0,0,0" Visibility="Visible">
                            <Button.ToolTip>
                                $$71259$$Open diplomacy settings.
                            </Button.ToolTip>
                        </local:Age3Button>

                        <!--Menu Button-->
                        <local:Age3Button x:Name="minimapPanel_menubutton" Style="{StaticResource HUDButton}" Focusable="False" Height="35" Width="70" HorizontalAlignment="Center" ConsoleCommand="toggleGameMenu()" Margin="10,0,10,0">
                            <Image Source="{StaticResource hud_icon_menu}" Width="60" Height="30" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,0" />

                            <Button.ToolTip>
                                $$18410$$Click on this icon to see the in-game menu.
                            </Button.ToolTip>
                        </local:Age3Button>
                    </StackPanel>
                </Grid>

                <!--MINIMAP-->
                <Grid x:Name="minimapPanel" Grid.Column="3" Grid.Row="3" Grid.RowSpan="2" Height="auto" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,0,0">
                    <!--Flare Button-->
                    <Grid Height="60" Width="60" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="0,0,0,5">

                        <local:Age3Button x:Name="minimapPanel_flareButton" Style="{StaticResource HUDButtonCompass}" Background="{StaticResource hud_icon_compass_flare}" VerticalAlignment="Center" HorizontalAlignment="Center" ConsoleCommand="editMode(&quot;flare&quot;) uiSetProtoCursor(&quot;WaypointFlag&quot;)">
                            <Button.ToolTip>
                                $$18424$$Click this button, and then click in the world to send a flare to all other players.
                            </Button.ToolTip>
                        </local:Age3Button>
                    </Grid>
                    <!--Map Filter Button-->
                    <Grid Height="60" Width="60" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,0,5">
                        <ToggleButton x:Name="minimapPanel_FilterToggle" Style="{StaticResource MinimapDetails}">
                            <ToggleButton.ToolTip>$$36021$$Cycle the Mini Map from showing all units, to just military units, to just economic units.</ToggleButton.ToolTip>
                        </ToggleButton>
                        <!--Currently missing  ConsoleCommand="setMinimapUnitFilter(-1)"-->
                    </Grid>

                    <Grid Height="60" Width="60" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,-25,0,0">
                        <!--Explorer Button-->
                        <!--NOTE: This button has changed from Player Summary to Explorer-->
                        <local:Age3Button x:Name="minimapPanel_explorerButton" Style="{StaticResource HUDButtonCompass}" Background="{StaticResource hud_icon_compass_movemilitary}" VerticalAlignment="Center" HorizontalAlignment="Center" ConsoleCommand="editMode(&quot;moveAllMilitary&quot;) uiSetProtoCursor(&quot;WaypointFlag&quot;)" IsEnabled="true">
                            <Button.ToolTip>
                                <TextBlock FontFamily="arial" FontSize="15" Text="$$48949$$" />
                            </Button.ToolTip>
                        </local:Age3Button>
                    </Grid>
                    <!--Map BG-->
                    <Ellipse x:Name="minimapPanel_map" Grid.Column="0" Grid.ColumnSpan="2" HorizontalAlignment="Left" VerticalAlignment="Center" Width="300" Height="300" Margin="0,0,0,30" Visibility="Visible">
                        <Ellipse.Fill>
                            <ImageBrush ImageSource="{StaticResource hud_compass_bg}" />
                        </Ellipse.Fill>
                    </Ellipse>
                    <!--Map Ring-->
                    <Ellipse Grid.Column="0" Grid.ColumnSpan="2" HorizontalAlignment="Left" VerticalAlignment="Center" Width="300" Height="300" Margin="0,0,0,30" Visibility="Hidden">
                        <Ellipse.Fill>
                            <ImageBrush ImageSource="{StaticResource hud_compass}" />
                        </Ellipse.Fill>
                    </Ellipse>
                </Grid>

                <!--HC SHIPMENT CARDS-->
                <Grid x:Name="hc_deck" Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="3" Grid.RowSpan="2" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="3,0,0,-2" Visibility="Collapsed">
                    <!--CARD INFO-->
                    <Grid HorizontalAlignment="Right" VerticalAlignment="Top" Width="815" Height="60" Margin="0,-15,0,0" Background="{StaticResource hud_hc_subpanelbg}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="6" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="20" />
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="20" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="20" />
                        </Grid.ColumnDefinitions>

                        <TextBlock x:Name="homeCityCardPanel_DeckName" Grid.Row="1" Grid.Column="1" Style="{StaticResource RegularTextBlockStyle}" HorizontalAlignment="Left" TextAlignment="Left" Margin="10,5,0,0" FontSize="18" Visibility="Visible">Deck Name</TextBlock>
                        <StackPanel Grid.Row="1" Grid.Column="2" HorizontalAlignment="Right" Orientation="Horizontal">
                            <TextBlock x:Name="homeCityCardPanel_DeckNumCards" Style="{StaticResource RegularTextBlockStyle}" TextAlignment="Right" Margin="0,5,20,0" FontSize="18" Visibility="Visible">99</TextBlock>
                            <Button x:Name="homeCityCardPanel_ToggleSize" Height="30" Width="30" Margin="0,2,10,0" Style="{StaticResource SmallDeckButton}" Visibility="Visible">
                                <Image HorizontalAlignment="Center" VerticalAlignment="Center" Source="{StaticResource deck_hud_resize}"/>
                            </Button>
                            <Button x:Name="homeCityCardPanel_CopyDeck" Height="30" Width="30" Margin="0,2,10,0" Style="{StaticResource SmallDeckButton}" Visibility="Collapsed" ToolTip="$$72501$$Select to copy this deck.">
                                <Image HorizontalAlignment="Center" VerticalAlignment="Center" Source="{StaticResource decks_copy}"/>
                            </Button>
                        </StackPanel>
                    </Grid>

                    <!--CARD SETS-->
                    <Grid x:Name="homeCityCardPanel_Panel" Width="815" Height="320" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,20,0,0" Background="{StaticResource hud_hc_panelbg}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="20" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="20" />
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="10" />
                            <ColumnDefinition Width="80" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="10" />
                        </Grid.ColumnDefinitions>

                        <!--Labels-->
                        <TextBlock Grid.Row="1" Grid.Column="1" FontFamily="Trajan Pro" FontSize="40" FontWeight="Bold" TextAlignment="Center" Foreground="Gold" VerticalAlignment="Center" HorizontalAlignment="Center">I</TextBlock>
                        <TextBlock Grid.Row="2" Grid.Column="1" FontFamily="Trajan Pro" FontSize="40" FontWeight="Bold" TextAlignment="Center" Foreground="Gold" VerticalAlignment="Center" HorizontalAlignment="Center">II</TextBlock>
                        <TextBlock Grid.Row="3" Grid.Column="1" FontFamily="Trajan Pro" FontSize="40" FontWeight="Bold" TextAlignment="Center" Foreground="Gold" VerticalAlignment="Center" HorizontalAlignment="Center">III</TextBlock>
                        <TextBlock Grid.Row="4" Grid.Column="1" FontFamily="Trajan Pro" FontSize="40" FontWeight="Bold" TextAlignment="Center" Foreground="Gold" VerticalAlignment="Center" HorizontalAlignment="Center">IV</TextBlock>

                        <!--Age 1 Set-->
                        <StackPanel Grid.Row="1" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" Orientation="Horizontal" Visibility="Visible">
                            <local:Age3Button x:Name="homeCityCardPanel_button00" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="10,0,0,0"/>
                            <local:Age3Button x:Name="homeCityCardPanel_button01" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button02" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button03" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button04" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button05" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button06" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button07" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button08" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button09" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                        </StackPanel>
                        <!--Age 2 Set-->
                        <StackPanel Grid.Row="2" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" Orientation="Horizontal" Visibility="Visible">
                            <local:Age3Button x:Name="homeCityCardPanel_button10" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="10,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button11" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button12" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button13" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button14" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button15" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button16" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button17" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button18" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button19" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                        </StackPanel>
                        <!--Age 3 Set-->
                        <StackPanel Grid.Row="3" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" Orientation="Horizontal" Visibility="Visible">
                            <local:Age3Button x:Name="homeCityCardPanel_button20" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="10,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button21" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button22" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button23" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button24" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button25" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button26" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button27" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button28" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button29" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                        </StackPanel>
                        <!--Age 4 Set-->
                        <StackPanel Grid.Row="4" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" Orientation="Horizontal" Visibility="Visible">
                            <local:Age3Button x:Name="homeCityCardPanel_button30" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="10,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button31" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button32" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button33" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button34" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button35" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button36" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button37" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button38" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                            <local:Age3Button x:Name="homeCityCardPanel_button39" Height="65" Width="65" Style="{StaticResource CardButton}" Background="{StaticResource icontest}" Margin="5,0,0,0" />
                        </StackPanel>

                        <StackPanel x:Name="homeCityCardPanel_NoDeckPanel" Grid.Row="1" Grid.Column="2" Grid.RowSpan="4" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Collapsed">
                            <TextBlock Style="{StaticResource RegularTextBlockStyle}" TextAlignment="Center" Padding="10" FontSize="14" Width="500" TextWrapping="Wrap">
                            $$42352$$Choose the Deck to play with for this game.
                            </TextBlock>
                            <Button x:Name="homeCityCardPanel_NoDeckButton" Width="250" Margin="0,10,0,0" Style="{StaticResource MainMenuButton}" Content="$$41593$$Select a Deck">
                            </Button>
                        </StackPanel>
                    </Grid>
                </Grid>

                <!--UNIT BIO-->
                <Grid Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Grid.RowSpan="2" x:Name="unitstatpanel3_help" VerticalAlignment="Bottom" HorizontalAlignment="Left" Height="auto" Width="780" Margin="10,0,0,280">
                    <Grid.Style>
                        <Style TargetType="Grid">
                            <Setter Property="Visibility" Value="Collapsed"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsChecked,ElementName=unitstatpanel3_maximize}" Value="True">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>

                    <ContentControl Template="{StaticResource QueueBG}" Margin="0,-10,10,-15" />

                    <ScrollViewer VerticalAlignment="Top" HorizontalAlignment="Center" Width="730" Height="165" Margin="0,0,0,10">
                        <TextBlock x:Name="unitstatpanel3_helpText" TextWrapping="Wrap" Margin="0,0,0,0" FontFamily="Arial" FontSize="16" FontWeight="Bold" Foreground="White">               
                        The Settlers is ethe main resource gatherer for most Civilizations in the game. Settlers are relatively inexpensive but fragile; they are not meant for combat, but will fire weak muskets to defend themselves and others. 
                        Settlers can be used to collect Treasures. Each Civilization has a limite to the number of Settlers they can have at once. Settlers pay for themselves rather quickly, and the longer an individual Settler is alive,
                        the more he/she contributes to the overall wealth of a given colony. Some Civilizations may receive Shipments of extra Settlers from the Home City, while others have to rely solely on producing them in the New World.
                        The Settlers is ethe main resource gatherer for most Civilizations in the game. Settlers are relatively inexpensive but fragile; they are not meant for combat, but will fire weak muskets to defend themselves and others. 
                        Settlers can be used to collect Treasures. Each Civilization has a limite to the number of Settlers they can have at once. Settlers pay for themselves rather quickly, and the longer an individual Settler is alive,
                        the more he/she contributes to the overall wealth of a given colony. Some Civilizations may receive Shipments of extra Settlers from the Home City, while others have to rely solely on producing them in the New World.
                        </TextBlock>
                    </ScrollViewer>
                </Grid>

                <!--COMMAND PANEL-->
                <Grid x:Name="unitpanels" Grid.Column="1" Grid.ColumnSpan="3" Grid.Row="3" VerticalAlignment="Bottom" HorizontalAlignment="Left" Height="500" Width="935" Visibility="Visible">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="450" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="101" />
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="300" />
                    </Grid.RowDefinitions>

                    <!--BUILD QUEUE-->
                    <Grid Name="buildqueue" Grid.Column="0" Grid.Row="0" Grid.RowSpan="2" Height="210" Width="420" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,8,280" Visibility="Collapsed">
                        <StackPanel Width="420" Orientation="Vertical" VerticalAlignment="Bottom" Margin="0,0,0,-10">
                            <Grid>
                                <ContentControl Template="{StaticResource QueueBG}" Focusable="False"/>
                                <StackPanel Width="420" Orientation="Vertical" VerticalAlignment="Bottom" Margin="0,10,0,12">
                                    <StackPanel x:Name="trainsandcontains_row0" Height="60" Width="420" Orientation="Horizontal" Margin="0,0,0,5">
                                        <local:Age3Button x:Name="trainsandcontains_button00" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button01" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button02" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button03" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button04" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button05" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>
                                    </StackPanel>

                                    <StackPanel x:Name="trainsandcontains_row1" Height="60" Width="420" Orientation="Horizontal" Margin="0,0,0,5" Visibility="Collapsed">
                                        <local:Age3Button x:Name="trainsandcontains_button10" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button11" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button12" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button13" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button14" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button15" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>
                                    </StackPanel>

                                    <StackPanel x:Name="trainsandcontains_row2" Height="60" Width="420" Orientation="Horizontal" Margin="0,0,0,5" Visibility="Collapsed">
                                        <local:Age3Button x:Name="trainsandcontains_button20" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button21" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button22" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button23" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button24" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>

                                        <local:Age3Button x:Name="trainsandcontains_button25" Height="60" Width="60" Margin="8,0,0,0" Style="{StaticResource ImageButtonUnfocusable}" Content="5">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/art/units/villagers/villager_icon.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Grid>

                    <!--UNIT PROFILE-->
                    <Grid Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" HorizontalAlignment="Right" Margin="0,20,0,0" Width="395">
                        <Rectangle Height="290" Width="395" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                            <Rectangle.Fill>
                                <ImageBrush ImageSource="/resources/images/hud/actionboard_plain.png" />
                            </Rectangle.Fill>
                            <Rectangle.RenderTransform>
                                <ScaleTransform ScaleX="-1"  />
                            </Rectangle.RenderTransform>
                        </Rectangle>

                        <Grid x:Name="unitselectionpanel" Margin="0,10,10,10">
                            <Grid x:Name="unitselectionpanel_stackQueue" HorizontalAlignment="Right" Width="380">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto"/>
                                    <RowDefinition Height="auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!--Name, Player Name, Unit Bio and Selected units button-->
                                <Grid Grid.Row="0" Width="380">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="30"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="2,0,0,0">
                                        <TextBlock x:Name="unitstatpanel3_StackLabel0" Style="{StaticResource CampaignTitleTextBlockStyle}" Width="350" FontSize="18" Margin="0" TextWrapping="Wrap" Text="Champion Jaguar Prowl Knight" />
                                        <TextBlock x:Name="unitstatpanel3_Owner" Style="{StaticResource CampaignTitleTextBlockStyle}" Foreground="White" Width="350" FontSize="14" Margin="0,0,0,0" TextTrimming="CharacterEllipsis" Text="Super_Long_Player_Name" />
                                    </StackPanel>

                                    <StackPanel Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Top">
                                        <ToggleButton x:Name="unitstatpanel3_maximize" Style="{StaticResource bioToggleButton}" Focusable="False">
                                            <ToggleButton.ToolTip>
                                                $$42182$$Click to show detailed help and history.
                                            </ToggleButton.ToolTip>
                                        </ToggleButton>
                                        <ToggleButton x:Name="selected_units" Style="{StaticResource selectedUnitsButton}" Margin="0,5,0,0" Focusable="False" IsChecked="True">
                                            <ToggleButton.ToolTip>
                                                $$71435$$Click to show selected units.
                                            </ToggleButton.ToolTip>
                                        </ToggleButton>
                                    </StackPanel>
                                </Grid>

                                <!--HP, Speed and Defense-->
                                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" Width="380" Height="30">
                                    <Image x:Name="unitstatpanel3_StackLabel1" Height="30" Width="30" Source="/resources/images/hud/stat_large_hp.png" Margin="0,0,0,0" />
                                    <TextBlock x:Name="unitstatpanel3_StackValue1" Height="25" Margin="0,5,0,0" VerticalAlignment="Center" FontFamily="Trajan Pro" FontSize="18" Style="{StaticResource CampaignTitleTextBlockStyle}" Text="" />
                                    <Image x:Name="unitstatpanel3_StackLabel2" Height="30" Width="30" Source="/resources/images/hud/stat_large_speed.png" Margin="0,0,0,0" />
                                    <TextBlock x:Name="unitstatpanel3_StackValue2" Height="25" Margin="0,5,0,0" VerticalAlignment="Center" FontFamily="Trajan Pro" FontSize="18" Style="{StaticResource CampaignTitleTextBlockStyle}" Text="" />
                                    <Image x:Name="unitstatpanel3_StackLabel3" Height="30" Width="30" Source="/resources/images/hud/stat_large_armor.png" Margin="0,0,0,0" />
                                    <TextBlock x:Name="unitstatpanel3_StackValue3" Height="25" Margin="0,5,0,0" VerticalAlignment="Center" FontFamily="Trajan Pro" FontSize="18" Style="{StaticResource CampaignTitleTextBlockStyle}" Text="" />
                                </StackPanel>

                                <!--Portrait + Stats-->
                                <Grid Grid.Row="2" Width="380">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="110"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0" VerticalAlignment="Top" Height="170" Margin="0,0,0,0">
                                        <local:Age3Button x:Name="unitselectionpanel_unitPortrait" Focusable="false" VerticalAlignment="Top" Height="100" Width="100" Style="{StaticResource PortraitButton}" Content="">
                                            <local:Age3Button.Background>
                                                <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                            </local:Age3Button.Background>
                                        </local:Age3Button>
                                        <Grid Margin="0,-7,0,0">
                                            <Rectangle Fill="Black" Height="15" Width="100" VerticalAlignment="Center" Margin="0,0,0,0" RadiusX="3" RadiusY="3"></Rectangle>
                                            <ProgressBar x:Name="unitselectionpanel_unitHealthBarGreen" Height="11" Width="95" VerticalAlignment="Center" Margin="0,0,0,0" Value="100" Style="{StaticResource HealthBar}"/>
                                        </Grid>

                                        <StackPanel HorizontalAlignment="Left" VerticalAlignment="Center" Margin="3,0,0,0">
                                            <TextBlock x:Name="unitstatpanel3_Owner_Status" HorizontalAlignment="Left" Foreground="White" Width="105" FontSize="14" Margin="0,0,0,3" TextTrimming="CharacterEllipsis" Text="Enemy" >
                                                <TextBlock.Style>
                                                    <Style TargetType="TextBlock" BasedOn="{StaticResource CampaignTitleTextBlockStyle}">
                                                        <Style.Triggers>
                                                            <!--IF Enemy-->
                                                            <DataTrigger Binding="{Binding isEnemy}" Value="true">
                                                                <Setter Property="Foreground" Value="Red"/>
                                                                <Setter Property="Text" Value="$$19103$$Enemy"/>
                                                            </DataTrigger>
                                                            <!--IF Ally-->
                                                            <DataTrigger Binding="{Binding isAlly}" Value="true">
                                                                <Setter Property="Foreground" Value="Yellow"/>
                                                                <Setter Property="Text" Value="$$19101$$Ally"/>
                                                            </DataTrigger>
                                                            <!--IF Neutral-->
                                                            <DataTrigger Binding="{Binding isNeutral}" Value="true">
                                                                <Setter Property="Foreground" Value="White"/>
                                                                <Setter Property="Text" Value="$$19102$$Neutral"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Image x:Name="unitstatpanel3_Civ_Image" Grid.Column="0" HorizontalAlignment="Left" Height="20" Width="30" Source="resources/images/icons/flags/Flag_British.png"/>

                                                <Image x:Name="tacticalIndicator" Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Bottom" Width="25" Height="25" Source="resources\images\icons\command\tactics_melee_avl.png">
                                                    <Image.ToolTip>
                                                        This is a tactical mode indicator
                                                    </Image.ToolTip>
                                                </Image>
                                            </Grid>
                                            <TextBlock x:Name="unitstatpanel3_Owner_Civ" HorizontalAlignment="Left" Style="{StaticResource CampaignTitleTextBlockStyle}" Foreground="White" Width="105" FontSize="14" Margin="0,0,0,3" TextTrimming="CharacterEllipsis" Text="Portuguese" />
                                        </StackPanel>
                                    </StackPanel>

                                    <StackPanel Grid.Column="1" Margin="5,0,0,0">
                                        <StackPanel HorizontalAlignment="Left">
                                            <TextBlock x:Name="unitstatpanel3_StackLabel4" HorizontalAlignment="Left" FontSize="13" Width="260" TextWrapping="Wrap" Style="{StaticResource MainTitleTextBlockStyle}" Text="Siege Attacks:" />
                                            <TextBlock x:Name="unitstatpanel3_StackValue4" HorizontalAlignment="Left" FontSize="14" Width="260" TextWrapping="Wrap" Style="{StaticResource RegularTextBlockStyle}" Text="0.0x#, 0.0x#, 0.0x#, 0.0x#" />
                                        </StackPanel>
                                        <StackPanel HorizontalAlignment="Left">
                                            <TextBlock x:Name="unitstatpanel3_StackLabel5" HorizontalAlignment="Left" FontSize="13" Width="260" TextWrapping="Wrap" Style="{StaticResource MainTitleTextBlockStyle}" Text="Chop Attacks:" />
                                            <TextBlock x:Name="unitstatpanel3_StackValue5" HorizontalAlignment="Left" FontSize="14" Width="260" TextWrapping="Wrap" Style="{StaticResource RegularTextBlockStyle}" Text="0.0x#, 0.0x#, 0.0x#, 0.0x#" />
                                        </StackPanel>
                                        <StackPanel HorizontalAlignment="Left">
                                            <TextBlock x:Name="unitstatpanel3_StackLabel6" HorizontalAlignment="Left" FontSize="13" Width="260" TextWrapping="Wrap" Style="{StaticResource MainTitleTextBlockStyle}" Text="Ranged Attacks:" />
                                            <TextBlock x:Name="unitstatpanel3_StackValue6" HorizontalAlignment="Left" FontSize="14" Width="260" TextWrapping="Wrap" Style="{StaticResource RegularTextBlockStyle}" Text="0.0x#, 0.0x#, 0.0x#, 0.0x#" />
                                        </StackPanel>
                                        <StackPanel HorizontalAlignment="Left">
                                            <TextBlock x:Name="unitstatpanel3_StackLabel7" HorizontalAlignment="Left" FontSize="13" Width="260" TextWrapping="Wrap" Style="{StaticResource MainTitleTextBlockStyle}" Text="Hand Attacks:" />
                                            <TextBlock x:Name="unitstatpanel3_StackValue7" HorizontalAlignment="Left" FontSize="14" Width="260" TextWrapping="Wrap" Style="{StaticResource RegularTextBlockStyle}" Text="0.0x#, 0.0x#, 0.0x#, 0.0x#" />
                                        </StackPanel>
                                        <StackPanel HorizontalAlignment="Left">
                                            <TextBlock x:Name="unitstatpanel3_StackLabel8" HorizontalAlignment="Left" FontSize="13" Width="260" TextWrapping="Wrap" Style="{StaticResource MainTitleTextBlockStyle}" Text="Extra Set:" />
                                            <TextBlock x:Name="unitstatpanel3_StackValue8" HorizontalAlignment="Left" FontSize="14" Width="260" TextWrapping="Wrap" Style="{StaticResource RegularTextBlockStyle}" Text="0.0x#, 0.0x#, 0.0x#, 0.0x#" />
                                        </StackPanel>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Grid>
                    </Grid>

                    <!--TRADING POST-->
                    <Grid x:Name="SocketPanel2" Grid.Row="1" Grid.Column="0" Margin="-17,10,0,-5" Visibility="Collapsed">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="12" />
                            <RowDefinition Height="32" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="12" />
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="15" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="15" />
                        </Grid.ColumnDefinitions>

                        <Rectangle Grid.Row="0" Grid.RowSpan="10" Grid.Column="0" Grid.ColumnSpan="10" Height="300" Width="450" Margin="-5,-5,-5,-5">
                            <Rectangle.Fill>
                                <ImageBrush ImageSource="/resources/images/hud/actionboard_mainbg.png" />
                            </Rectangle.Fill>
                        </Rectangle>

                        <Rectangle Grid.Row="0" Grid.RowSpan="10" Grid.Column="0" Grid.ColumnSpan="10" Margin="5">
                            <Rectangle.Fill>
                                <ImageBrush ImageSource="/resources/images/hud/actionboard_infopanelbg.png" />
                            </Rectangle.Fill>
                        </Rectangle>

                        <Rectangle Grid.Row="1" Grid.Column="1" VerticalAlignment="Bottom" Height="2" Fill="White" Opacity="0.5"/>

                        <!--Title and info button-->
                        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock x:Name="SocketPanel2_textUnitLabel" Style="{StaticResource CampaignTitleTextBlockStyle}" Width="380" FontSize="20" Margin="10,0,0,0" TextTrimming="CharacterEllipsis" Text="$$26208$$Trading Post Site" />
                        </StackPanel>

                        <!--Desc-->
                        <TextBlock x:Name="socketDesc" Grid.Row="2" Grid.Column="1" FontFamily="Arial" Foreground="White" Width="410" FontSize="16" Margin="10" TextWrapping="Wrap">
                        $$26212$$"These are our lands, but we will permit you to build a Trading Post here to forge an alliance between our people."
                        </TextBlock>
                    </Grid>

                    <!--COMMAND PANEL-->
                    <Grid x:Name="commandpanel2" Grid.Row="1" Grid.Column="0" Margin="-14,-5,-5,-25" Height="300" Width="450">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="22" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="50" />
                            <RowDefinition Height="21" />
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="18" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="19" />
                        </Grid.ColumnDefinitions>

                        <Rectangle Grid.Row="0" Grid.RowSpan="10" Grid.Column="0" Grid.ColumnSpan="10" Height="300" Width="450" Margin="-5,-5,-5,-5">
                            <Rectangle.Fill>
                                <ImageBrush ImageSource="/resources/images/hud/actionboard_mainbg.png" />
                            </Rectangle.Fill>
                        </Rectangle>

                        <local:Age3Button x:Name="commandpanel2_button00" Grid.Row="1" Grid.Column="1" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button01" Grid.Row="1" Grid.Column="2" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button02" Grid.Row="1" Grid.Column="3" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button03" Grid.Row="1" Grid.Column="4" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button04" Grid.Row="1" Grid.Column="5" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button05" Grid.Row="1" Grid.Column="6" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button10" Grid.Row="2" Grid.Column="1" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button11" Grid.Row="2" Grid.Column="2" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button12" Grid.Row="2" Grid.Column="3" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button13" Grid.Row="2" Grid.Column="4" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button14" Grid.Row="2" Grid.Column="5" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button15" Grid.Row="2" Grid.Column="6" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button20" Grid.Row="3" Grid.Column="1" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button21" Grid.Row="3" Grid.Column="2" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button22" Grid.Row="3" Grid.Column="3" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button23" Grid.Row="3" Grid.Column="4" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button24" Grid.Row="3" Grid.Column="5" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_button25" Grid.Row="3" Grid.Column="6" Height="62" Width="62" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/art/units/animals/capybara/capybara_icon_64x64.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2commands_Button0" Grid.Row="4" Grid.Column="1" Height="31" Width="62" Margin="0,7,0,0" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/images/icons/command/command_repair.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2commands_Button1" Grid.Row="4" Grid.Column="2" Height="31" Width="62" Margin="0,7,0,0" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/images/icons/command/command_repair.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2commands_Button2" Grid.Row="4" Grid.Column="3" Height="31" Width="62" Margin="0,7,0,0" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/images/icons/command/command_repair.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2commands_Button3" Grid.Row="4" Grid.Column="4" Height="31" Width="62" Margin="0,7,0,0" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/images/icons/command/command_repair.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2commands_Button4" Grid.Row="4" Grid.Column="5" Height="31" Width="62" Margin="0,7,0,0" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/images/icons/command/command_repair.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2commands_Button5" Grid.Row="4" Grid.Column="6" Height="31" Width="62" Margin="0,7,0,0" Style="{StaticResource ImageButtonUnfocusable}">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/images/icons/command/command_repair.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_bigbutton" Grid.Row="1" Grid.Column="5" Grid.ColumnSpan="2" Grid.RowSpan="3" Height="205" Width="135" Style="{StaticResource BigButton}" Visibility="Hidden">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/images/icons/techs/native_big_button/native_01.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_bighugebutton" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Left" Grid.ColumnSpan="6" Grid.RowSpan="3" Height="205" Width="412" Style="{StaticResource BigButton}" Visibility="Hidden">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/images/hud/consulate_openrelations.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                        <local:Age3Button x:Name="commandpanel2_bigabilitybutton" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Grid.RowSpan="2" Height="135" Width="135" Style="{StaticResource BigAbilityButton}" Visibility="Hidden">
                            <local:Age3Button.Background>
                                <ImageBrush ImageSource="resources/images/icons/abilities/ability_anchor_fist.png" />
                            </local:Age3Button.Background>
                        </local:Age3Button>
                    </Grid>

                    <!--SELECTED UNITS-->
                    <Grid Grid.Row="1" Grid.Column="3" Margin="0,25,0,5" HorizontalAlignment="Left" Width="auto">
                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Setter Property="Visibility" Value="Collapsed"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsChecked,ElementName=selected_units}" Value="True">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>

                        <Rectangle Fill="Black" Opacity="0.5" RadiusX="8" RadiusY="8"/>

                        <Grid Margin="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="18"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <TextBlock x:Name="selectedUnit_number" Grid.Row="0" HorizontalAlignment="Center" TextAlignment="Center" Style="{StaticResource CampaignTitleTextBlockStyle}" Margin="0" Foreground="White" Width="50" FontSize="14" Text="99" />

                            <StackPanel Grid.Row="1" HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal" Margin="2,0,0,0">
                                <StackPanel Grid.Row="1" VerticalAlignment="Top" HorizontalAlignment="Center" Margin="0,3,0,0" Height="250">
                                    <local:Age3Button x:Name="unitselectionpanel_unitStackButton0" Height="45" Width="45" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,0,0,0" Style="{StaticResource UnitSelectionButton}" Content="8">
                                        <local:Age3Button.Background>
                                            <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                        </local:Age3Button.Background>
                                    </local:Age3Button>
                                    <local:Age3Button x:Name="unitselectionpanel_unitStackButton1" Height="45" Width="45" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,4,0,0" Style="{StaticResource UnitSelectionButton}" Content="8">
                                        <local:Age3Button.Background>
                                            <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                        </local:Age3Button.Background>
                                    </local:Age3Button>
                                    <local:Age3Button x:Name="unitselectionpanel_unitStackButton2" Height="45" Width="45" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,4,0,0" Style="{StaticResource UnitSelectionButton}" Content="11">
                                        <local:Age3Button.Background>
                                            <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                        </local:Age3Button.Background>
                                    </local:Age3Button>
                                    <local:Age3Button x:Name="unitselectionpanel_unitStackButton3" Height="45" Width="45" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,4,0,0" Style="{StaticResource UnitSelectionButton}" Content="8">
                                        <local:Age3Button.Background>
                                            <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                        </local:Age3Button.Background>
                                    </local:Age3Button>
                                    <local:Age3Button x:Name="unitselectionpanel_unitStackButton4"  Height="45" Width="45" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,4,0,0" Style="{StaticResource UnitSelectionButton}" Content="3">
                                        <local:Age3Button.Background>
                                            <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                        </local:Age3Button.Background>
                                    </local:Age3Button>
                                </StackPanel>

                                <StackPanel Grid.Row="1" VerticalAlignment="Top" HorizontalAlignment="Center" Margin="4,3,4,0" Height="250" Visibility="Visible">
                                    <local:Age3Button x:Name="unitselectionpanel_unitStackButton5" Height="45" Width="45" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,0,0,0" Style="{StaticResource UnitSelectionButton}" Content="8">
                                        <local:Age3Button.Background>
                                            <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                        </local:Age3Button.Background>
                                    </local:Age3Button>
                                    <local:Age3Button x:Name="unitselectionpanel_unitStackButton6" Height="45" Width="45" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,4,0,0" Style="{StaticResource UnitSelectionButton}" Content="8">
                                        <local:Age3Button.Background>
                                            <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                        </local:Age3Button.Background>
                                    </local:Age3Button>
                                    <local:Age3Button x:Name="unitselectionpanel_unitStackButton7" Height="45" Width="45" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,4,0,0" Style="{StaticResource UnitSelectionButton}" Content="11">
                                        <local:Age3Button.Background>
                                            <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                        </local:Age3Button.Background>
                                    </local:Age3Button>
                                    <local:Age3Button x:Name="unitselectionpanel_unitStackButton8" Height="45" Width="45" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,4,0,0" Style="{StaticResource UnitSelectionButton}" Content="8">
                                        <local:Age3Button.Background>
                                            <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                        </local:Age3Button.Background>
                                    </local:Age3Button>
                                    <local:Age3Button x:Name="unitselectionpanel_unitStackButton9" Height="45" Width="45"  HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,4,0,0" Style="{StaticResource UnitSelectionButton}" Content="3">
                                        <local:Age3Button.Background>
                                            <ImageBrush ImageSource="resources/images/icons/portraits/units/pikeman_portrait.png" />
                                        </local:Age3Button.Background>
                                    </local:Age3Button>
                                </StackPanel>



                            </StackPanel>


                        </Grid>
                    </Grid>
                </Grid>

                <!--WONDERS, used for Asian Civs-->
                <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" FlowDirection="RightToLeft" HorizontalAlignment="Right" VerticalAlignment="Bottom" Width="auto" Height="70" Margin="0,0,0,350" Visibility="Visible">
                   <StackPanel x:Name="uiwonderpowerpanel" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center" Height="60" Visibility="Visible">
                        <local:Age3Button x:Name="WonderPowerPanel_Button1" HorizontalAlignment="Center" Height="50" Width="50" Margin="0,0,5,0" Style="{StaticResource QueueButton}" Visibility="Collapsed">
                            <local:Age3Button.ToolTip>
                               <ToolTip Placement="Right" />
                            </local:Age3Button.ToolTip>
                            <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/abilities/ability_inspiration.png" />
                            </local:Age3Button.Background>
                      </local:Age3Button>

                        <local:Age3Button x:Name="WonderPowerPanel_Button2" HorizontalAlignment="Center" Height="50" Width="50" Margin="0,0,10,0" Style="{StaticResource QueueButton}" Visibility="Collapsed">
                            <local:Age3Button.ToolTip>
                               <ToolTip Placement="Right" />
                            </local:Age3Button.ToolTip>
                            <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/abilities/ability_inspiration.png" />
                            </local:Age3Button.Background>
                      </local:Age3Button>
                   </StackPanel>
               
                   <!--BUILD QUEUE-->
                   <StackPanel x:Name="unitTrainingPanel" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center" Height="60" Margin="0,0,0,0" Visibility="Visible" >
                      <local:Age3Button x:Name="unittrainpanel_unitButton0" HorizontalAlignment="Center" Height="50" Width="50" Margin="0,0,0,0" Style="{StaticResource QueueButton}" Content="99">
                           <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/techs/hc_food_crate/hc_food_crate_128.png" />
                           </local:Age3Button.Background>
                       </local:Age3Button>

                       <local:Age3Button x:Name="unittrainpanel_unitButton1" HorizontalAlignment="Center" Height="50" Width="50" Margin="5,0,0,0" Style="{StaticResource QueueButton}" Content="99">
                           <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/techs/hc_food_crate/hc_food_crate_128.png" />
                           </local:Age3Button.Background>
                       </local:Age3Button>

                       <local:Age3Button x:Name="unittrainpanel_unitButton2" HorizontalAlignment="Center" Height="50" Width="50" Margin="5,0,0,0" Style="{StaticResource QueueButton}" Content="99">
                           <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/techs/hc_food_crate/hc_food_crate_128.png" />
                           </local:Age3Button.Background>
                       </local:Age3Button>

                       <local:Age3Button x:Name="unittrainpanel_unitButton3" HorizontalAlignment="Center" Height="50" Width="50" Margin="5,0,0,0" Style="{StaticResource QueueButton}" Content="99">
                           <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/techs/hc_food_crate/hc_food_crate_128.png" />
                           </local:Age3Button.Background>
                       </local:Age3Button>

                       <local:Age3Button x:Name="unittrainpanel_unitButton4" HorizontalAlignment="Center" Height="50" Width="50" Margin="5,0,0,0" Style="{StaticResource QueueButton}" Content="99">
                           <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/techs/hc_food_crate/hc_food_crate_128.png" />
                           </local:Age3Button.Background>
                       </local:Age3Button>

                       <local:Age3Button x:Name="unittrainpanel_unitButton5" HorizontalAlignment="Center" Height="50" Width="50" Margin="5,0,0,0" Style="{StaticResource QueueButton}" Content="99">
                           <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/techs/hc_food_crate/hc_food_crate_128.png" />
                           </local:Age3Button.Background>
                       </local:Age3Button>

                       <local:Age3Button x:Name="unittrainpanel_unitButton6" HorizontalAlignment="Center" Height="50" Width="50" Margin="5,0,0,0" Style="{StaticResource QueueButton}" Content="99">
                           <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/techs/hc_food_crate/hc_food_crate_128.png" />
                           </local:Age3Button.Background>
                       </local:Age3Button>

                       <local:Age3Button x:Name="unittrainpanel_unitButton7" HorizontalAlignment="Center" Height="50" Width="50" Margin="5,0,0,0" Style="{StaticResource QueueButton}" Content="99">
                           <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/techs/hc_food_crate/hc_food_crate_128.png" />
                           </local:Age3Button.Background>
                       </local:Age3Button>

                       <local:Age3Button x:Name="unittrainpanel_unitButton8" HorizontalAlignment="Center" Height="50" Width="50" Margin="5,0,0,0" Style="{StaticResource QueueButton}" Content="99">
                           <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/techs/hc_food_crate/hc_food_crate_128.png" />
                           </local:Age3Button.Background>
                       </local:Age3Button>

                       <local:Age3Button x:Name="unittrainpanel_unitButton9" HorizontalAlignment="Center" Height="50" Width="50" Margin="5,0,0,0" Style="{StaticResource QueueButton}" Content="99">
                           <local:Age3Button.Background>
                               <ImageBrush ImageSource="resources/images/icons/techs/hc_food_crate/hc_food_crate_128.png" />
                           </local:Age3Button.Background>
                       </local:Age3Button>
                   </StackPanel>
                </StackPanel>

                <!--HC BUTTON-->
                <Grid Grid.Row="3" Grid.Column="3" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,350,230" Visibility="Visible">
                    <!--Flag-->
                    <local:Age3Button x:Name="uimain_homeCityToggle" Style="{StaticResource HomeCityLegacyHUDButton}" Focusable="False" ConsoleCommand="toggleHomeCityView()">
                        <local:Age3Button.ToolTip>
                            $$32709$$
                        </local:Age3Button.ToolTip>
                    </local:Age3Button>
                </Grid>

                <!-- NEW CHATBOX READY -->
                <Grid x:Name="ChatPanel" Height="315" Width="540" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Grid.RowSpan="2" VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="0,0,0,500" Visibility="Collapsed">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="40" />
                    </Grid.RowDefinitions>

                    <Grid.Background>
                        <SolidColorBrush Color="#1f1c17" Opacity="0.8"/>
                    </Grid.Background>

                    <ListBox Grid.Row="0" Name="targetArea" ScrollViewer.VerticalScrollBarVisibility="Auto" Focusable="False" IsEnabled="True" Margin="6,6,6,0">
                        <ListBox.ItemContainerStyle>
                            <Style TargetType="{x:Type ListBoxItem}">
                                <Setter Property="Focusable" Value="False"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="{x:Type ListBoxItem}">
                                            <StackPanel VerticalAlignment="Top" HorizontalAlignment="Left" Orientation="Horizontal" Margin="0,0,0,5">
                                                <Rectangle VerticalAlignment="Top" HorizontalAlignment="Left" Width="45" Height="45" Margin="5,5,0,0">
                                                    <Rectangle.Fill>
                                                        <ImageBrush ImageSource="{Binding PlayerPortrait}" />
                                                    </Rectangle.Fill>
                                                </Rectangle>
                                                <StackPanel Margin="0,5,0,0">
                                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                                        <TextBlock Text="{Binding PlayerName}" Style="{StaticResource ConfirmationTitlesStyleSmall}" FontSize="20" FontWeight="Bold" VerticalAlignment="Top" HorizontalAlignment="Left" TextAlignment="Left" Margin="10,0,0,0"/>
                                                        <Rectangle Width="20" Height="20" Margin="10,0,0,0" Fill="{Binding PlayerColor}"/>
                                                    </StackPanel>
                                                    <TextBlock Text="{Binding MessageText}" FontFamily="Arial" Foreground="White" FontSize="20" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,0,0,0" Width="430" TextWrapping="Wrap"></TextBlock>
                                                </StackPanel>
                                            </StackPanel>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </ListBox.ItemContainerStyle>
                    </ListBox>

                    <Grid Grid.Row="1" HorizontalAlignment="Stretch" Margin="4,0,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="80"/>
                        </Grid.ColumnDefinitions>

                        <ComboBox x:Name="toPlayer_toggle" Grid.Column="0" Style="{StaticResource chatDropdown}">
                            <!-- If you edit the order of these items, or add new ones, you'll have to update enum ChatTargets in amaingamescreen.cpp-->
                            <ComboBoxItem Content="$$90147$$To: All" IsSelected="True"/>
                            <ComboBoxItem Content="$$90148$$To: Allies"/>
                            <ComboBoxItem Content="$$90149$$To: Enemies"/>
                            <ComboBoxItem Content="$$90150$$To: Defeated" IsEnabled="False"/>
                            <ComboBoxItem Content="$$90151$$To: Player #1" IsEnabled="False"/>
                            <ComboBoxItem Content="$$90152$$To: Player #2" IsEnabled="False"/>
                            <ComboBoxItem Content="$$90153$$To: Player #3" IsEnabled="False"/>
                            <ComboBoxItem Content="$$90154$$To: Player #4" IsEnabled="False"/>
                            <ComboBoxItem Content="$$90155$$To: Player #5" IsEnabled="False"/>
                            <ComboBoxItem Content="$$90156$$To: Player #6" IsEnabled="False"/>
                            <ComboBoxItem Content="$$90157$$To: Player #7" IsEnabled="False"/>
                            <ComboBoxItem Content="$$90158$$To: Player #8" IsEnabled="False"/>
                        </ComboBox>

                        <local:PreviewTextBox Grid.Column="1" x:Name="chatInputTextBox" MaxLength="200" PreviewText="$$70672$$Enter Chat here..."/>

                        <Button x:Name="chatInput_sendButton" Grid.Column="2" Style="{StaticResource chatSend}"/>
                    </Grid>

                    <Border Grid.Row="0" Grid.RowSpan="2" BorderBrush="Black" BorderThickness="6">
                        <Border BorderBrush="#a58739" BorderThickness="2" Margin="-4"/>
                    </Border>
                </Grid>

                <!--Pause Menu-->
                <Grid Grid.Row="0" Grid.Column="0" Grid.RowSpan="5" Grid.ColumnSpan="5" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,0" x:Name="PausePanel" Visibility="Visible">
                    <StackPanel>

                        <Grid>
                            <TextBlock Name="overlayWindow_cinematictext" Style="{StaticResource CinematicTitleTextBlockStyle}" Text="{Binding Text}" />
                            <Grid x:Name="overlayWindow_textContainer">
                                <TextBlock Margin="-4,0,0,0" Text="TEST" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="60pt" Foreground="Black" />
                                <TextBlock Margin=" 4,0,0,0" Text="TEST" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="60pt" Foreground="Black" />
                                <TextBlock Margin="0, 4,0,0" Text="TEST" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="60pt" Foreground="Black" />
                                <TextBlock Margin="0,-4,0,0" Text="TEST" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="60pt" Foreground="Black" />

                                <TextBlock Margin="-2.9,-2.9,0,0" Text="TEST" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="60pt" Foreground="Black" />
                                <TextBlock Margin="-2.9, 2.9,0,0" Text="TEST" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="60pt" Foreground="Black" />
                                <TextBlock Margin=" 2.9,-2.9,0,0" Text="TEST" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="60pt" Foreground="Black" />
                                <TextBlock Margin=" 2.9, 2.9,0,0" Text="TEST" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="60pt" Foreground="Black" />

                                <TextBlock Text="TEST" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="60pt" Foreground="{StaticResource OverlayTitleGradient}">
                                    <TextBlock.Effect>
                                        <DropShadowEffect BlurRadius="6" Color="Black" Direction="-90" ShadowDepth="4" RenderingBias="Quality" />
                                    </TextBlock.Effect>
                                </TextBlock>
                            </Grid>
                        </Grid>

                        <Grid x:Name="overlayPauseCounter_Container" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,20,0,0" Visibility="Collapsed">
                            <Rectangle Style="{StaticResource PanelBGSection}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="-50,-10,-50,-20"/>

                            <StackPanel>
                                <TextBlock Text="Pause Counter" HorizontalAlignment="Center" FontFamily="Trajan Pro" FontWeight="Bold" FontSize="30" Foreground="{StaticResource OverlayTitleGradient}">
                                    <TextBlock.Effect>
                                        <DropShadowEffect BlurRadius="6" Color="Black" Direction="-90" ShadowDepth="4" RenderingBias="Quality" />
                                    </TextBlock.Effect>
                                </TextBlock>

                                <ListBox x:Name="pauseCounter" HorizontalAlignment="Center" ItemContainerStyle="{StaticResource pauseCounter}" Margin="0,10,0,0" Focusable="False">
                                    <ListBox.Template>
                                        <ControlTemplate>
                                            <ItemsPresenter/>
                                        </ControlTemplate>
                                    </ListBox.Template>

                                    <ListBox.Style>
                                        <Style TargetType="ListBox">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </ListBox.Style>
                                </ListBox>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Grid>
            </Grid>

                <Grid x:Name="EndGamePanel" Grid.Row="0" Grid.Column="0" Grid.RowSpan="5" Grid.ColumnSpan="5" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0" Visibility="Collapsed">
                    <ContentControl x:Name="EndGamePanel_RayContainer" Template="{StaticResource EndGamePanel_Ray}" Visibility="Collapsed"/>
                    <Image x:Name="EndGamePanel_BGContainer" Source="resources/images/endgame/skirmish_victory_bg.png" Height="400" />
                    <Grid x:Name="EndGamePanel_textContainer" Width="500" Height="120" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Grid.Resources>
                            <Style TargetType="TextBlock">
                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                                <Setter Property="TextAlignment" Value="Center"/>
                                <Setter Property="FontFamily" Value="Trajan Pro"/>
                                <Setter Property="FontWeight" Value="Bold"/>
                                <Setter Property="FontSize" Value="30pt"/>
                                <Setter Property="Foreground" Value="Black"/>
                                <Setter Property="Width" Value="500"/>
                                <Setter Property="Height" Value="auto"/>
                                <Setter Property="MaxHeight" Value="120"/>
                                <Setter Property="TextWrapping" Value="Wrap"/>
                                <Setter Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="3" RenderingBias="Quality" />
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Grid.Resources>
                        <TextBlock Margin="-4,0,0,0" Text="You are Victorious!"/>
                        <TextBlock Margin=" 4,0,0,0" Text="You are Victorious!"/>
                        <TextBlock Margin="0, 4,0,0" Text="You are Victorious!"/>
                        <TextBlock Margin="0,-4,0,0" Text="You are Victorious!"/>

                        <TextBlock Margin="-2.9,-2.9,0,0" Text="You are Victorious!"/>
                        <TextBlock Margin="-2.9, 2.9,0,0" Text="You are Victorious!"/>
                        <TextBlock Margin=" 2.9,-2.9,0,0" Text="You are Victorious!"/>
                        <TextBlock Margin=" 2.9, 2.9,0,0" Text="You are Victorious!"/>

                        <TextBlock Text="You are Victorious!" Foreground="{StaticResource OverlayTitleGradient}"/>
                </Grid>
            </Grid>

            <!--FOR TRADE MONOPOLY AND REVOLUTION-->
            <Grid x:Name="SpecialPopupPanel" Grid.Row="0" Grid.Column="0" Grid.RowSpan="5" Grid.ColumnSpan="5" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,500" Visibility="Collapsed">
                <ContentControl x:Name="SpecialPopup_RayContainer" Template="{StaticResource EndGamePanel_Ray}" Visibility="Collapsed"/>
                <Rectangle x:Name="SpecialPopup_BGContainer" Fill="Black" Height="120" Opacity="0.5" />
                <Grid x:Name="SpecialPopup_textContainer" Width="800" Height="100" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Grid.Resources>
                        <Style TargetType="TextBlock">
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                            <Setter Property="VerticalAlignment" Value="Center"/>
                            <Setter Property="TextAlignment" Value="Center"/>
                            <Setter Property="FontFamily" Value="Trajan Pro"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="FontSize" Value="25pt"/>
                            <Setter Property="Foreground" Value="Black"/>
                            <Setter Property="Width" Value="700"/>
                            <Setter Property="Height" Value="auto"/>
                            <Setter Property="MaxHeight" Value="100"/>
                            <Setter Property="TextWrapping" Value="Wrap"/>
                            <Setter Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect BlurRadius="3" Color="Black" Direction="-90" ShadowDepth="3" RenderingBias="Quality" />
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Grid.Resources>
                    <TextBlock Margin="-4,0,0,0" Text="Trade Monopoly victory started!"/>
                    <TextBlock Margin=" 4,0,0,0" Text="Trade Monopoly victory started!"/>
                    <TextBlock Margin="0, 4,0,0" Text="Trade Monopoly victory started!"/>
                    <TextBlock Margin="0,-4,0,0" Text="Trade Monopoly victory started!"/>

                    <TextBlock Margin="-2.9,-2.9,0,0" Text="Trade Monopoly victory started!"/>
                    <TextBlock Margin="-2.9, 2.9,0,0" Text="Trade Monopoly victory started!"/>
                    <TextBlock Margin=" 2.9,-2.9,0,0" Text="Trade Monopoly victory started!"/>
                    <TextBlock Margin=" 2.9, 2.9,0,0" Text="Trade Monopoly victory started!"/>

                    <TextBlock Text="Trade Monopoly victory started!" Foreground="{StaticResource OverlayTitleGradient}"/>
                </Grid>
            </Grid>

            <!--AI Personality chatbox-->
            <!--This needs to remain outside so that it can be displayed during cutscenes-->
            <StackPanel IsHitTestVisible="False" x:Name="IncomingChatPanel" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Grid.RowSpan="2" Width="540" VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="10,0,0,500" Visibility="Visible">
                <StackPanel.LayoutTransform>
                    <ScaleTransform
                        CenterX="0"
                        CenterY="0"
                        ScaleX="{Binding OptionUIHudScale, Source={StaticResource optionsProxy}}"
                        ScaleY="{Binding OptionUIHudScale, Source={StaticResource optionsProxy}}" />
                </StackPanel.LayoutTransform>
                <Grid x:Name="IsPageUpDown" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,0,10" Visibility="Collapsed">
                    <Grid.Resources>
                        <Style TargetType="TextBlock" BasedOn="{StaticResource RegularTextBlockStyle}">
                            <Setter Property="HorizontalAlignment" Value="Right"/>
                            <Setter Property="VerticalAlignment" Value="Center"/>
                        </Style>
                    </Grid.Resources>
                    <Rectangle Height="50" Width="540" Fill="Black" Opacity="0.6"/>
                    <StackPanel HorizontalAlignment="Right" VerticalAlignment="Center" Orientation="Horizontal">
                        <TextBlock Text="$$72262$$%s / %s"/>
                        <TextBlock x:Name="pageText" Text="$$72261$$%d of %d" Margin="20,0,20,0"/>
                    </StackPanel>
                </Grid>
                <!--Displaying up to a max of 3 AI msgs-->
                <Grid x:Name="IncomingChat3" Margin="0,0,0,5" Visibility="Visible">
                    <Grid.Background>
                        <SolidColorBrush Color="#1f1c17" Opacity="0.8"/>
                    </Grid.Background>
                    <StackPanel Margin="5,5,0,0" Visibility="Visible">
                        <StackPanel Orientation="Horizontal">
                            <Image x:Name="IncomingChat3_Avatar" VerticalAlignment="Top" Margin="5,5,0,10" Source="resources/images/icons/portraits/units/alain_igc_portrait.png" Width="80" Height="80" Visibility="Visible" />

                            <StackPanel Grid.Column="1" Orientation="Vertical" Margin="5">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                    <TextBlock x:Name="IncomingChat3_SenderName" Style="{StaticResource ConfirmationTitlesStyleSmall}" FontSize="22" HorizontalAlignment="Left" TextAlignment="Left" Margin="0,0,0,0" Visibility="Visible">
                                    Maurice of Nassau test
                                    </TextBlock>
                                    <Rectangle x:Name="IncomingChat3_Colour" Width="20" Height="20" Margin="10,0,0,0" Fill="Red"/>
                                </StackPanel>
                                <TextBlock x:Name="IncomingChat3_Msg" FontFamily="Arial" Foreground="White" FontSize="20" HorizontalAlignment="Left" Margin="0,0,0,5" TextWrapping="Wrap" MaxWidth="435">
                                    I regret I do not have sufficient resources to help you. I regret I do not have sufficient resources to help you. I regret I do not have sufficient resources to help you.
                                </TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                    <Border BorderBrush="Black" BorderThickness="6">
                        <Border BorderBrush="#a58739" BorderThickness="2" Margin="-4"/>
                    </Border>
                </Grid>

                <Grid x:Name="IncomingChat2" Margin="0,0,0,5" Visibility="Visible">
                    <Grid.Background>
                        <SolidColorBrush Color="#1f1c17" Opacity="0.8"/>
                    </Grid.Background>
                    <StackPanel Margin="5,5,0,0" Visibility="Visible">
                        <StackPanel Orientation="Horizontal">
                            <Image x:Name="IncomingChat2_Avatar" VerticalAlignment="Top" Margin="5,5,0,10" Source="resources/images/icons/portraits/units/alain_igc_portrait.png" Width="80" Height="80" Visibility="Visible" />

                            <StackPanel Grid.Column="1" Orientation="Vertical" Margin="5">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                    <TextBlock x:Name="IncomingChat2_SenderName" Style="{StaticResource ConfirmationTitlesStyleSmall}" FontSize="22" HorizontalAlignment="Left" TextAlignment="Left" Margin="0,0,0,0" Visibility="Visible">
                                    Maurice of Nassau test
                                    </TextBlock>
                                    <Rectangle x:Name="IncomingChat2_Colour" Width="20" Height="20" Margin="10,0,0,0" Fill="Red"/>
                                </StackPanel>
                                <TextBlock x:Name="IncomingChat2_Msg" FontFamily="Arial" Foreground="White" FontSize="20" HorizontalAlignment="Left" Margin="0,0,0,5" TextWrapping="Wrap" MaxWidth="435">
                                    I regret I do not have sufficient resources to help you. I regret I do not have sufficient resources to help you. I regret I do not have sufficient resources to help you.
                                </TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                    <Border BorderBrush="Black" BorderThickness="6">
                        <Border BorderBrush="#a58739" BorderThickness="2" Margin="-4"/>
                    </Border>
                </Grid>

                <Grid x:Name="IncomingChat1" Margin="0,0,0,5" Visibility="Visible">
                    <Grid.Background>
                        <SolidColorBrush Color="#1f1c17" Opacity="0.8"/>
                    </Grid.Background>

                    <StackPanel x:Name="IncomingChat1_StackPanel" Margin="5,5,0,0" Visibility="Visible">
                        <StackPanel Orientation="Horizontal">
                            <Image x:Name="IncomingChat1_Avatar" VerticalAlignment="Top" Margin="5,5,0,10" Source="resources/images/icons/portraits/units/alain_igc_portrait.png" Width="80" Height="80" Visibility="Visible" />

                            <StackPanel Grid.Column="1" Orientation="Vertical" Margin="5">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                    <TextBlock x:Name="IncomingChat1_SenderName" Style="{StaticResource ConfirmationTitlesStyleSmall}" FontSize="22" HorizontalAlignment="Left" TextAlignment="Left" Margin="0,0,0,0" Visibility="Visible">
                                    Maurice of Nassau test
                                    </TextBlock>
                                    <Rectangle x:Name="IncomingChat1_Colour" Width="20" Height="20" Margin="10,0,0,0" Fill="Red"/>
                                </StackPanel>
                                <TextBlock x:Name="IncomingChat1_Msg" FontFamily="Arial" Foreground="White" FontSize="20" HorizontalAlignment="Left" Margin="0,0,0,5" TextWrapping="Wrap" MaxWidth="435">
                                    I regret I do not have sufficient resources to help you. I regret I do not have sufficient resources to help you. I regret I do not have sufficient resources to help you.
                                </TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>

                    <Border BorderBrush="Black" BorderThickness="6">
                        <Border BorderBrush="#a58739" BorderThickness="2" Margin="-4"/>
                    </Border>
                </Grid>
            </StackPanel>

            <!--DECK PICKER-->
            <Grid x:Name="hc_deckpicker" Grid.Row="2" Grid.RowSpan="2" Grid.Column="1" Grid.ColumnSpan="2" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,60" Visibility="Collapsed">
                <Grid Width="580" Height="400" Margin="0,20,0,20">
                    <Grid.LayoutTransform>
                        <ScaleTransform CenterX="0" CenterY="0"
                        ScaleX="{Binding OptionUIHudScale, Source={StaticResource optionsProxy}}"
                        ScaleY="{Binding OptionUIHudScale, Source={StaticResource optionsProxy}}" />
                    </Grid.LayoutTransform>

                    <ContentControl Template="{StaticResource PanelBG}" Margin="-10,-10,-10,-80" />

                    <Grid HorizontalAlignment="Center" VerticalAlignment="Top">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="60" />
                            <RowDefinition Height="290" />
                            <RowDefinition Height="50" />
                        </Grid.RowDefinitions>

                        <!--Title-->
                        <TextBlock x:Name="homecity_deckpickerLabel" Grid.Row="0" Style="{StaticResource ConfirmationTitlesStyle}" FontSize="30" VerticalAlignment="Bottom" HorizontalAlignment="Center">
                                $$41593$$Select a Deck
                        </TextBlock>

                        <!--List BG Panel-->
                        <Rectangle Grid.Row="1" HorizontalAlignment="Center" VerticalAlignment="Center" Height="270" Width="540" Margin="10" Style="{StaticResource PanelBGSection}" />

                        <ListBox x:Name="deck_list" Grid.Row="1" Margin="20" ItemContainerStyle="{StaticResource deckListItem}"/>

                        <!--Buttons-->
                        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                            <local:Age3Button x:Name="HomeCityPicker_SubmitButton" Height="50" Width="250" Style="{StaticResource MainMenuButton}" Content="$$18465$$Ok"/>
                            <local:Age3Button x:Name="HomeCityPicker_CancelButton" Height="50" Width="250" Margin="20,0,0,0" Style="{StaticResource MainMenuButton}" Content="$$18466$$Cancel"/>
                        </StackPanel>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </Viewbox>
</Window>
